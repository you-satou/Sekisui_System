/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import * as i0 from "@angular/core";
export class SHCtlCommon {
    /**
     * 指定したフォーマットでDateをstringに変換
     * @param {?} date
     * @param {?} format
     * @return {?}
     */
    static getDateStr(date, format) {
        format = format.replace(/YYYY/g, date.getFullYear().toString());
        format = format.replace(/MM/g, ('0' + (date.getMonth() + 1).toString()).slice(-2).toString());
        format = format.replace(/dd/g, ('0' + date.getDate()).slice(-2).toString());
        return format;
    }
    /**
     * 中身が空かどうかの判定
     * @param {?} obj
     * @return {?}
     */
    static isBlank(obj) {
        if (obj === undefined)
            return true;
        if (obj === null)
            return true;
        if (typeof (obj) === "string" && obj === "")
            return true;
        if (typeof (obj) === "object" && (obj.length !== undefined && obj.length <= 0))
            return true;
        return false;
    }
    /**
     * 指定された値または0でパディングする
     * @param {?} num パディング対象値
     * @param {?} length 　値の長さ
     * @param {?=} option 何でパディングしたいか
     * @return {?}
     */
    static padding(num, length, option) {
        //指定がなければ0
        option = option || "0";
        //数値型に変換
        num = Number(num);
        //数値でなければnullを返す
        if (isNaN(num))
            return null;
        return (Array(length).join(option) + num).slice(-length);
    }
    /**
     * 改行の削除
     * @param {?} str 　改行削除したい文字列
     * @return {?}
     */
    static LineBreak(str) {
        /** @type {?} */
        let tmp = str.replace(/\r?\n/g, "");
        return tmp;
    }
    /*********************************************************
       * 新:入力チェック
       * ********************************************************/
    /**
     * 全角入力チェック
     * @param {?} event inputイベント
     * @return {?}
     */
    static replaceFullWidth(event) {
        if (!event)
            return;
        event.target.value = event.target.value.replace(/[^\x01-\x7E\xA1-\xDF]/g, '');
    }
    /**
     * 半角入力チェック
     * @param {?} event inputイベント
     * @return {?}
     */
    static replaceHalfChar(event) {
        if (!event)
            return;
        event.target.value = event.target.value.match(/[ -~｡-ﾟ]+/g);
    }
    /**
     * 数値入力チェック
     * @param {?} event inputイベント
     * @return {?}
     */
    static replaceNumeric(event) {
        if (!event)
            return;
        event.target.value = event.target.value.replace(/\d*/g, "");
    }
    /**
     * スペース入力チェック(半角)
     * @param {?} event inputイベント
     * @return {?}
     */
    static replaceSpace(event) {
        if (!event)
            return;
        event.target.value = event.target.value.replace(/ /g, "");
    }
    /**
     * スペース入力チェック(半角)→(全角)
     * @param {?} event inputイベント
     * @return {?}
     */
    static replaceHalfSpaceToFull(event) {
        if (!event)
            return;
        event.target.value = event.target.value.replace(/ /g, "　");
    }
    /**
     * スペース入力チェック(全角)
     * @param {?} event inputイベント
     * @return {?}
     */
    static replaceFUllSpace(event) {
        if (!event)
            return;
        event.target.value = event.target.value.replace(/　/g, "");
    }
    /**
     * アルファベット入力チェック
     * @param {?} event inputイベント
     * @return {?}
     */
    static replaceHalfWidth(event) {
        if (!event)
            return;
        event.target.value = event.target.value.replace(/[a-zA-Z]/g, "");
    }
    /**
     * 記号入力チェック
     * @param {?} event inputイベント
     * @param {?=} exclusionValue 入力を許容したい記号の配列
     * @return {?}
     */
    static replaceSign(event, exclusionValue) {
        if (!event)
            return;
        event.target.value = event.target.value.replace(new RegExp(SHCtlCommon.getRestrictedSign(exclusionValue), "g"), "");
    }
    /**
     * 全角ダブルクォーテーション入力チェック
     * @param {?} event inputイベント
     * @return {?}
     */
    static replaceFullDoubleQuote(event) {
        if (!event)
            return;
        event.target.value = event.target.value.replace("”", "＂");
    }
    /**
     * 半角ダブルクォーテーション入力チェック
     * @param {?} event inputイベント
     * @return {?}
     */
    static replaceHalfDoubleQuote(event) {
        if (!event)
            return;
        event.target.value = event.target.value.replace("\"", "ﾞ");
    }
    /**
     * フォーマット設定
     * @param {?} event
     * @return {?}
     */
    static replaceHalf(event) {
        event.target.value = event.target.value.replace(/[A-Za-z0-9-!"#$%&'()=<>,.?_\[\]|{}@`^~\\/+;*:}]/g, (/**
         * @param {?} inputTargetValue
         * @return {?}
         */
        function (inputTargetValue) {
            return String.fromCharCode(inputTargetValue.charCodeAt(0) + 65248);
        }));
        return event.target.value;
    }
    /**
     * フォーマット設定
     * @param {?} event
     * @return {?}
     */
    static replaceHalfKana(event) {
        /** @type {?} */
        const D_MUD = 'ガギグゲゴザジズゼゾダヂヅデドバビブベボパピプペポヴヷヺ';
        /** @type {?} */
        const S_MUD = 'ｶﾞｷﾞｸﾞｹﾞｺﾞｻﾞｼﾞｽﾞｾﾞｿﾞﾀﾞﾁﾞﾂﾞﾃﾞﾄﾞﾊﾞﾋﾞﾌﾞﾍﾞﾎﾞﾊﾟﾋﾟﾌﾟﾍﾟﾎﾟｳﾞﾜﾞｦﾞ';
        /** @type {?} */
        const D_KIY = 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホ'
            + 'マミムメモヤユヨラリルレロワヲンァィゥェォッャュョ。、ー「」・';
        /** @type {?} */
        const S_KIY = 'ｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜｦﾝｧｨｩｪｫｯｬｭｮ｡､ｰ｢｣･';
        /** @type {?} */
        const toZenKata = (/**
         * @param {?} str
         * @return {?}
         */
        str => {
            for (let i = 0, len = D_MUD.length; i < len; i++) {
                str = str.split(S_MUD.slice(i * 2, i * 2 + 2)).join(D_MUD.slice(i, i + 1));
            }
            for (let i = 0, len = D_KIY.length; i < len; i++) {
                str = str.split(S_KIY.slice(i, i + 1)).join(D_KIY.slice(i, i + 1));
            }
            return str;
        });
        event.target.value = toZenKata(event.target.value);
        return this.replaceHalf(event);
    }
    /**
     * input値の入力文字数制限
     * @param {?} event inputイベント
     * @param {?} maxlength 入力制限文字数
     * @return {?}
     */
    static sliceLength(event, maxlength) {
        if (!event)
            return;
        event.target.value = event.target.value.slice(0, maxlength);
    }
    /**
     * 入力制限記号の取得
     * @private
     * @param {?} exclusionValue 入力可能文字の配列
     * @return {?}
     */
    static getRestrictedSign(exclusionValue) {
        if (exclusionValue === undefined || exclusionValue.length === 0)
            return SHCtlCommon.exclude();
        return SHCtlCommon.exclude(exclusionValue);
    }
    /**
     * itemが条件に適しているならtrueを返す
     * @param {?} item
     * @return {?}
     */
    static needsEscape(item) {
        if (item === "." || item === "*" || item === "-" || item === "+" || item === "[" || item === "]")
            return true;
    }
    /**
     * itemの前にダブルバックスラッシュ付与する
     * @param {?} item
     * @return {?}
     */
    static escapeByBackSlash(item) {
        /** @type {?} */
        const escapedValue = "\\" + item;
        return escapedValue;
    }
    /**
     * 入力不可対象の記号から指定した文字列を除外する
     * "+" "." などエスケープが必要な文字には　"\"をつける　ex"\+"
     * @private
     * @param {?=} exclusionValue 入力可能文字の配列
     * @return {?}
     */
    static exclude(exclusionValue) {
        /** @type {?} */
        let excludeIndex = null;
        /** @type {?} */
        let signsList = this.signs.split("");
        signsList.map((/**
         * @param {?} item
         * @param {?} index
         * @param {?} array
         * @return {?}
         */
        (item, index, array) => {
            if (exclusionValue !== undefined)
                excludeIndex = exclusionValue.indexOf(item);
            if (excludeIndex !== -1 && excludeIndex !== null)
                array[index] = "";
            if (array[index] !== "" && index !== 0 && index !== signsList.length - 1) {
                if (this.needsEscape(item))
                    array[index] = this.escapeByBackSlash(item);
            }
        }));
        return signsList.join("");
    }
    /**
     * カスタムコントロールコンポーネント内の要素名重複を避けるためのユニークキー
     * カスタムコントロール1つに対し1つ持つ
     * @return {?}
     */
    static getUniqueStr() {
        return "uk-" + Math.random().toString(36).slice(-8);
    }
    /**
     * 従業員コードの変換(6桁→8桁)
     * @param {?} s コード文字列
     * @return {?} 変換後のコード文字列
     */
    static convJyuCode6To8(s) {
        // ブランクなら
        if (this.isBlank(s))
            return '';
        // 6桁以外処理しない
        if (s.trim().length != 6 && !isNaN(parseInt(s.toString())))
            return s;
        /** @type {?} */
        let sJyuCode = s;
        /** @type {?} */
        let result = '00';
        if (((sJyuCode == '922222') || (sJyuCode == '933333') ||
            (sJyuCode == '944444') || (sJyuCode == '955555') ||
            (sJyuCode == '966666') || (sJyuCode == '977777') ||
            (sJyuCode == '988888')) || ((sJyuCode >= '999000') && (sJyuCode <= '999999'))) {
            result = '99' + sJyuCode;
        }
        else {
            /** @type {?} */
            let strCd = sJyuCode.substr(0, 1).toUpperCase();
            sJyuCode = sJyuCode.replace(/[c|k|s]/g, '');
            if (strCd == 'C' || strCd == 'S') {
                //左1文字　[C]か[S]のとき
                /** @type {?} */
                let subNumber = sJyuCode.substr(2, 2);
                //左に文字目から自分含め２文字目が　
                if (Number(subNumber) >= 0 && Number(subNumber) <= 49) {
                    //>= 0 および　 <=49 の場合
                    result = '20' + sJyuCode;
                }
                else {
                    //>= 0 および　 <=49 でない場合
                    result = '19' + sJyuCode;
                }
            }
            else if (strCd == 'K') {
                //左1文字　[C]か[S]のときでなく[K]の場合
                result = '00' + sJyuCode;
            }
            else {
                //左1文字　上記以外
                /** @type {?} */
                let rStr = sJyuCode.substr(-2, 2);
                //左２文字が
                if (Number(rStr) >= 0 && Number(rStr) <= 43) {
                    //     >= 0 及び　<= 43 の場合
                    result = '20' + sJyuCode;
                }
                else {
                    //>= 0 及び　<= 43 でない場合
                    result = '19' + sJyuCode;
                }
            }
        }
        // 整形文字返却
        return result;
    }
}
SHCtlCommon.Const = {
    keyCodes: {
        numerics: { min: 48, max: 57 },
        // 半角1 to 0
        tenKeyNumerics: { min: 96, max: 105 },
        // テンキーの半角0 to 9
        enter: 13,
        // エンター
        chars: { min: 65, max: 90 },
        // 半角a to z
        space: 32,
        // 半角スペース
        wideChara: 229,
        // 全角
        okCharas: {
            "65": "a", "67": "c", "86": "v", "88": "x", "90": "z"
        },
        // Ctrlとの組み合わせ
        signs: {
            // 半角記号
            "186": ":", "187": ";", "188": ",", "189": "-", "190": ".", "191": "/",
            "192": "@", "219": "[", "220": "\\", "221": "]", "222": "^", "226": "_",
            "111": "/", "106": "*", "109": "-", "107": "+", "110": "." // テンキーの分
        },
        minus: [109, 189],
        // 半角マイナス(ハイフン)
        dot: [110, 190],
        // 半角ドット
        slash: [111, 191],
        // 半角スラッシュ
        plus: [107, 187],
    },
    state: {
        none: 'none',
        danger: 'danger',
        warning: 'warning',
        success: 'success',
    },
    timeFormat: {
        HH: 3600,
        HHMM: 60,
        HHMMSS: 1,
    }
};
SHCtlCommon.signs = "[\\\\!\"#$%&'()\*\+\-\.,\/:;<=>?@\[\]^_`{|}~]";
SHCtlCommon.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
/** @nocollapse */ SHCtlCommon.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function SHCtlCommon_Factory() { return new SHCtlCommon(); }, token: SHCtlCommon, providedIn: "root" });
if (false) {
    /** @type {?} */
    SHCtlCommon.Const;
    /**
     * @type {?}
     * @private
     */
    SHCtlCommon.signs;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2gtY3RsLWNvbW1vbi5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3NoLWZvcm0tY29udHJvbC8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3NoLWN0bC1jb21tb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQXFCLE1BQU0sZUFBZSxDQUFDOztBQUs5RCxNQUFNLE9BQU8sV0FBVzs7Ozs7OztJQTBDZixNQUFNLENBQUMsVUFBVSxDQUFDLElBQVUsRUFBRSxNQUFjO1FBQ2pELE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUNoRSxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzlGLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFBO1FBQzNFLE9BQU8sTUFBTSxDQUFBO0lBQ2YsQ0FBQzs7Ozs7O0lBS00sTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFRO1FBQzVCLElBQUksR0FBRyxLQUFLLFNBQVM7WUFBRSxPQUFPLElBQUksQ0FBQztRQUNuQyxJQUFJLEdBQUcsS0FBSyxJQUFJO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDOUIsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsS0FBSyxFQUFFO1lBQUUsT0FBTyxJQUFJ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RUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUc7WUFDdEUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHO1lBQ3ZFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxTQUFTO1NBQ3JFO1FBQ0QsS0FBSyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQzs7UUFDakIsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQzs7UUFDZixLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDOztRQUNqQixJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0tBQ2pCO0lBQ0QsS0FBSyxFQUFFO1FBQ0wsSUFBSSxFQUFFLE1BQU07UUFDWixNQUFNLEVBQUUsUUFBUTtRQUNoQixPQUFPLEVBQUUsU0FBUztRQUNsQixPQUFPLEVBQUUsU0FBUztLQUNuQjtJQUNELFVBQVUsRUFBRTtRQUNWLEVBQUUsRUFBRSxJQUFJO1FBQ1IsSUFBSSxFQUFFLEVBQUU7UUFDUixNQUFNLEVBQUUsQ0FBQztLQUNWO0NBQ0YsQ0FBQTtBQUVjLGlCQUFLLEdBQVcsK0NBQStDLENBQUM7O1lBdkNoRixVQUFVLFNBQUM7Z0JBQ1YsVUFBVSxFQUFFLE1BQU07YUFDbkI7Ozs7O0lBR0Msa0JBZ0NDOzs7OztJQUVELGtCQUErRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5ASW5qZWN0YWJsZSh7XHJcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBTSEN0bENvbW1vbiB7XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ29uc3QgPSB7XHJcbiAgICBrZXlDb2Rlczoge1xyXG4gICAgICBudW1lcmljczogeyBtaW46IDQ4LCBtYXg6IDU3IH0sIC8vIOWNiuinkjEgdG8gMFxyXG4gICAgICB0ZW5LZXlOdW1lcmljczogeyBtaW46IDk2LCBtYXg6IDEwNSB9LCAvLyDjg4bjg7Pjgq3jg7zjga7ljYrop5IwIHRvIDlcclxuICAgICAgZW50ZXI6IDEzLCAvLyDjgqjjg7Pjgr/jg7xcclxuICAgICAgY2hhcnM6IHsgbWluOiA2NSwgbWF4OiA5MCB9LCAvLyDljYrop5JhIHRvIHpcclxuICAgICAgc3BhY2U6IDMyLCAvLyDljYrop5Ljgrnjg5rjg7zjgrlcclxuICAgICAgd2lkZUNoYXJhOiAyMjksIC8vIOWFqOinklxyXG4gICAgICBva0NoYXJhczoge1xyXG4gICAgICAgIFwiNjVcIjogXCJhXCIsIFwiNjdcIjogXCJjXCIsIFwiODZcIjogXCJ2XCIsIFwiODhcIjogXCJ4XCIsIFwiOTBcIjogXCJ6XCJcclxuICAgICAgfSwgLy8gQ3RybOOBqOOBrue1hOOBv+WQiOOCj+OBm1xyXG4gICAgICBzaWduczogeyAvLyDljYrop5LoqJjlj7dcclxuICAgICAgICBcIjE4NlwiOiBcIjpcIiwgXCIxODdcIjogXCI7XCIsIFwiMTg4XCI6IFwiLFwiLCBcIjE4OVwiOiBcIi1cIiwgXCIxOTBcIjogXCIuXCIsIFwiMTkxXCI6IFwiL1wiLFxyXG4gICAgICAgIFwiMTkyXCI6IFwiQFwiLCBcIjIxOVwiOiBcIltcIiwgXCIyMjBcIjogXCJcXFxcXCIsIFwiMjIxXCI6IFwiXVwiLCBcIjIyMlwiOiBcIl5cIiwgXCIyMjZcIjogXCJfXCIsXHJcbiAgICAgICAgXCIxMTFcIjogXCIvXCIsIFwiMTA2XCI6IFwiKlwiLCBcIjEwOVwiOiBcIi1cIiwgXCIxMDdcIjogXCIrXCIsIFwiMTEwXCI6IFwiLlwiIC8vIOODhuODs+OCreODvOOBruWIhlxyXG4gICAgICB9LFxyXG4gICAgICBtaW51czogWzEwOSwgMTg5XSwgLy8g5Y2K6KeS44Oe44Kk44OK44K5KOODj+OCpOODleODsylcclxuICAgICAgZG90OiBbMTEwLCAxOTBdLCAvLyDljYrop5Ljg4njg4Pjg4hcclxuICAgICAgc2xhc2g6IFsxMTEsIDE5MV0sIC8vIOWNiuinkuOCueODqeODg+OCt+ODpVxyXG4gICAgICBwbHVzOiBbMTA3LCAxODddLCAvLyDjg5fjg6njgrlcclxuICAgIH0sXHJcbiAgICBzdGF0ZToge1xyXG4gICAgICBub25lOiAnbm9uZScsXHJcbiAgICAgIGRhbmdlcjogJ2RhbmdlcicsXHJcbiAgICAgIHdhcm5pbmc6ICd3YXJuaW5nJyxcclxuICAgICAgc3VjY2VzczogJ3N1Y2Nlc3MnLFxyXG4gICAgfSxcclxuICAgIHRpbWVGb3JtYXQ6IHtcclxuICAgICAgSEg6IDM2MDAsXHJcbiAgICAgIEhITU06IDYwLFxyXG4gICAgICBISE1NU1M6IDEsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBzaWduczogc3RyaW5nID0gXCJbXFxcXFxcXFwhXFxcIiMkJSYnKClcXCpcXCtcXC1cXC4sXFwvOjs8PT4/QFxcW1xcXV5fYHt8fX5dXCI7XHJcbiAgLyoqXHJcbiAgICog5oyH5a6a44GX44Gf44OV44Kp44O844Oe44OD44OI44GnRGF0ZeOCknN0cmluZ+OBq+WkieaPm1xyXG4gICAqIEBwYXJhbSBkYXRlIFxyXG4gICAqIEBwYXJhbSBmb3JtYXQgXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXREYXRlU3RyKGRhdGU6IERhdGUsIGZvcm1hdDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKC9ZWVlZL2csIGRhdGUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpKTtcclxuICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKC9NTS9nLCAoJzAnICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkpLnNsaWNlKC0yKS50b1N0cmluZygpKTtcclxuICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKC9kZC9nLCAoJzAnICsgZGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKS50b1N0cmluZygpKVxyXG4gICAgcmV0dXJuIGZvcm1hdFxyXG4gIH1cclxuICAvKipcclxuICAgKiDkuK3ouqvjgYznqbrjgYvjganjgYbjgYvjga7liKTlrppcclxuICAgKiBAcGFyYW0gb2JqIFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgaXNCbGFuayhvYmo6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcclxuICAgIGlmIChvYmogPT09IG51bGwpIHJldHVybiB0cnVlO1xyXG4gICAgaWYgKHR5cGVvZiAob2JqKSA9PT0gXCJzdHJpbmdcIiAmJiBvYmogPT09IFwiXCIpIHJldHVybiB0cnVlO1xyXG4gICAgaWYgKHR5cGVvZiAob2JqKSA9PT0gXCJvYmplY3RcIiAmJiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkICYmIG9iai5sZW5ndGggPD0gMCkpIHJldHVybiB0cnVlO1xyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmjIflrprjgZXjgozjgZ/lgKTjgb7jgZ/jga8w44Gn44OR44OH44Kj44Oz44Kw44GZ44KLXHJcbiAgICogQHBhcmFtIG51bSDjg5Hjg4fjgqPjg7PjgrDlr77osaHlgKRcclxuICAgKiBAcGFyYW0gbGVuZ3Ro44CA5YCk44Gu6ZW344GVXHJcbiAgICogQHBhcmFtIG9wdGlvbiDkvZXjgafjg5Hjg4fjgqPjg7PjgrDjgZfjgZ/jgYTjgYtcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHBhZGRpbmcobnVtOiBhbnksIGxlbmd0aDogbnVtYmVyLCBvcHRpb24/OiBhbnkpIHtcclxuICAgIC8v5oyH5a6a44GM44Gq44GR44KM44GwMFxyXG4gICAgb3B0aW9uID0gb3B0aW9uIHx8IFwiMFwiO1xyXG4gICAgLy/mlbDlgKTlnovjgavlpInmj5tcclxuICAgIG51bSA9IE51bWJlcihudW0pO1xyXG4gICAgLy/mlbDlgKTjgafjgarjgZHjgozjgbBudWxs44KS6L+U44GZXHJcbiAgICBpZiAoaXNOYU4obnVtKSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgcmV0dXJuIChBcnJheShsZW5ndGgpLmpvaW4ob3B0aW9uKSArIG51bSkuc2xpY2UoLWxlbmd0aCk7XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pS56KGM44Gu5YmK6ZmkXHJcbiAgICogQHBhcmFtIHN0cuOAgOaUueihjOWJiumZpOOBl+OBn+OBhOaWh+Wtl+WIl1xyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgTGluZUJyZWFrKHN0cjogc3RyaW5nKSB7XHJcbiAgICBsZXQgdG1wID0gc3RyLnJlcGxhY2UoL1xccj9cXG4vZywgXCJcIilcclxuICAgIHJldHVybiB0bXA7XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAqIOaWsDrlhaXlipvjg4Hjgqfjg4Pjgq8gXHJcbiAgICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgLyoqXHJcbiAgICog5YWo6KeS5YWl5Yqb44OB44Kn44OD44KvXHJcbiAgICogQHBhcmFtIGV2ZW50IGlucHV044Kk44OZ44Oz44OIXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyByZXBsYWNlRnVsbFdpZHRoKGV2ZW50OiBhbnkpIHtcclxuICAgIGlmICghZXZlbnQpIHJldHVybjtcclxuICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXlxceDAxLVxceDdFXFx4QTEtXFx4REZdL2csICcnKTtcclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDljYrop5LlhaXlipvjg4Hjgqfjg4Pjgq9cclxuICAgKiBAcGFyYW0gZXZlbnQgaW5wdXTjgqTjg5njg7Pjg4hcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHJlcGxhY2VIYWxmQ2hhcihldmVudDogYW55KSB7XHJcbiAgICBpZiAoIWV2ZW50KSByZXR1cm47XHJcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUubWF0Y2goIC9bIC1+772hLe++n10rL2cpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIOaVsOWApOWFpeWKm+ODgeOCp+ODg+OCr1xyXG4gICogQHBhcmFtIGV2ZW50IGlucHV044Kk44OZ44Oz44OIXHJcbiAgKi9cclxuICBwdWJsaWMgc3RhdGljIHJlcGxhY2VOdW1lcmljKGV2ZW50OiBhbnkpIHtcclxuICAgIGlmICghZXZlbnQpIHJldHVybjtcclxuICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS5yZXBsYWNlKC9cXGQqL2csIFwiXCIpO1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOOCueODmuODvOOCueWFpeWKm+ODgeOCp+ODg+OCryjljYrop5IpXHJcbiAgICogQHBhcmFtIGV2ZW50IGlucHV044Kk44OZ44Oz44OIXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyByZXBsYWNlU3BhY2UoZXZlbnQ6IGFueSkge1xyXG4gICAgaWYgKCFldmVudCkgcmV0dXJuO1xyXG4gICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLnJlcGxhY2UoLyAvZywgXCJcIik7XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44K544Oa44O844K55YWl5Yqb44OB44Kn44OD44KvKOWNiuinkinihpIo5YWo6KeSKVxyXG4gICAqIEBwYXJhbSBldmVudCBpbnB1dOOCpOODmeODs+ODiFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVwbGFjZUhhbGZTcGFjZVRvRnVsbChldmVudDogYW55KSB7XHJcbiAgICBpZiAoIWV2ZW50KSByZXR1cm47XHJcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUucmVwbGFjZSgvIC9nLCBcIuOAgFwiKTtcclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjgrnjg5rjg7zjgrnlhaXlipvjg4Hjgqfjg4Pjgq8o5YWo6KeSKVxyXG4gICAqIEBwYXJhbSBldmVudCBpbnB1dOOCpOODmeODs+ODiFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVwbGFjZUZVbGxTcGFjZShldmVudDogYW55KSB7XHJcbiAgICBpZiAoIWV2ZW50KSByZXR1cm47XHJcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUucmVwbGFjZSgv44CAL2csIFwiXCIpO1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICog44Ki44Or44OV44Kh44OZ44OD44OI5YWl5Yqb44OB44Kn44OD44KvXHJcbiAgKiBAcGFyYW0gZXZlbnQgaW5wdXTjgqTjg5njg7Pjg4hcclxuICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVwbGFjZUhhbGZXaWR0aChldmVudDogYW55KSB7XHJcbiAgICBpZiAoIWV2ZW50KSByZXR1cm47XHJcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUucmVwbGFjZSgvW2EtekEtWl0vZywgXCJcIik7XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiDoqJjlj7flhaXlipvjg4Hjgqfjg4Pjgq9cclxuICAqIEBwYXJhbSBldmVudCBpbnB1dOOCpOODmeODs+ODiFxyXG4gICogQHBhcmFtIGV4Y2x1c2lvblZhbHVlIOWFpeWKm+OCkuioseWuueOBl+OBn+OBhOiomOWPt+OBrumFjeWIl1xyXG4gICovXHJcbiAgcHVibGljIHN0YXRpYyByZXBsYWNlU2lnbihldmVudDogYW55LCBleGNsdXNpb25WYWx1ZT86IHN0cmluZ1tdKSB7XHJcbiAgICBpZiAoIWV2ZW50KSByZXR1cm47XHJcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKFNIQ3RsQ29tbW9uLmdldFJlc3RyaWN0ZWRTaWduKGV4Y2x1c2lvblZhbHVlKSwgXCJnXCIpLCBcIlwiKTtcclxuXHJcbiAgfVxyXG5cclxuIC8qKlxyXG4gICog5YWo6KeS44OA44OW44Or44Kv44Kp44O844OG44O844K344On44Oz5YWl5Yqb44OB44Kn44OD44KvXHJcbiAgKiBAcGFyYW0gZXZlbnQgaW5wdXTjgqTjg5njg7Pjg4hcclxuICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVwbGFjZUZ1bGxEb3VibGVRdW90ZShldmVudDogYW55KSB7XHJcbiAgICBpZiAoIWV2ZW50KSByZXR1cm47XHJcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUucmVwbGFjZShcIuKAnVwiLCBcIu+8glwiKTtcclxuXHJcbiAgfVxyXG5cclxuIC8qKlxyXG4gICog5Y2K6KeS44OA44OW44Or44Kv44Kp44O844OG44O844K344On44Oz5YWl5Yqb44OB44Kn44OD44KvXHJcbiAgKiBAcGFyYW0gZXZlbnQgaW5wdXTjgqTjg5njg7Pjg4hcclxuICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVwbGFjZUhhbGZEb3VibGVRdW90ZShldmVudDogYW55KSB7XHJcbiAgICBpZiAoIWV2ZW50KSByZXR1cm47XHJcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUucmVwbGFjZShcIlxcXCJcIiwgXCLvvp5cIik7XHJcblxyXG4gIH1cclxuXHJcbiAvKipcclxuICAqIOODleOCqeODvOODnuODg+ODiOioreWumlxyXG4gICogQHBhcmFtIGlucHV0VGFyZ2V0VmFsdWUgZXZlbnQudGFyZ2V0LnZhbHVlXHJcbiAgKi9cclxuICBwdWJsaWMgc3RhdGljIHJlcGxhY2VIYWxmKGV2ZW50OmFueSkge1xyXG4gICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1tBLVphLXowLTktIVwiIyQlJicoKT08PiwuP19cXFtcXF18e31AYF5+XFxcXC8rOyo6fV0vZywgZnVuY3Rpb24gKGlucHV0VGFyZ2V0VmFsdWUpIHtcclxuICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoaW5wdXRUYXJnZXRWYWx1ZS5jaGFyQ29kZUF0KDApICsgNjUyNDgpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gIH1cclxuXHJcbi8qKlxyXG4gKiDjg5Xjgqnjg7zjg57jg4Pjg4joqK3lrppcclxuICogQHBhcmFtIGlucHV0VGFyZ2V0VmFsdWUgZXZlbnQudGFyZ2V0LnZhbHVlXHJcbiAqL1xyXG4gcHVibGljIHN0YXRpYyByZXBsYWNlSGFsZkthbmEoZXZlbnQ6YW55KSB7XHJcbiAgY29uc3QgRF9NVUQgPSAn44Ks44Ku44Kw44Ky44K044K244K444K644K844K+44OA44OC44OF44OH44OJ44OQ44OT44OW44OZ44Oc44OR44OU44OX44Oa44Od44O044O344O6JztcclxuICBjb25zdCBTX01VRCA9ICfvvbbvvp7vvbfvvp7vvbjvvp7vvbnvvp7vvbrvvp7vvbvvvp7vvbzvvp7vvb3vvp7vvb7vvp7vvb/vvp7vvoDvvp7vvoHvvp7vvoLvvp7vvoPvvp7vvoTvvp7vvorvvp7vvovvvp7vvozvvp7vvo3vvp7vvo7vvp7vvorvvp/vvovvvp/vvozvvp/vvo3vvp/vvo7vvp/vvbPvvp7vvpzvvp7vvabvvp4nO1xyXG4gIGNvbnN0IERfS0lZID0gJ+OCouOCpOOCpuOCqOOCquOCq+OCreOCr+OCseOCs+OCteOCt+OCueOCu+OCveOCv+ODgeODhOODhuODiOODiuODi+ODjOODjeODjuODj+ODkuODleODmOODmydcclxuICAgICAgICAgICAgICArJ+ODnuODn+ODoOODoeODouODpOODpuODqOODqeODquODq+ODrOODreODr+ODsuODs+OCoeOCo+OCpeOCp+OCqeODg+ODo+ODpeODp+OAguOAgeODvOOAjOOAjeODuyc7XHJcbiAgY29uc3QgU19LSVkgPSAn772x772y772z7720772177227723772477257726772777287729772+772/776A776B776C776D776E776F776G776H776I776J776K776L776M776N776O776P776Q776R776S776T776U776V776W776X776Y776Z776a776b776c772m776d772n772o772p772q772r772v772s772t772u772h772k772w772i772j772lJztcclxuXHJcbiAgY29uc3QgdG9aZW5LYXRhID0gc3RyID0+IHtcclxuICAgICAgZm9yIChsZXQgaT0wLGxlbj1EX01VRC5sZW5ndGg7IGk8bGVuOyBpKyspIHtcclxuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCggU19NVUQuc2xpY2UoaSoyLCBpKjIrMikgKS5qb2luKCBEX01VRC5zbGljZShpLCBpKzEpICk7XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChsZXQgaT0wLGxlbj1EX0tJWS5sZW5ndGg7IGk8bGVuOyBpKyspIHtcclxuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCggU19LSVkuc2xpY2UoaSwgaSsxKSApLmpvaW4oIERfS0lZLnNsaWNlKGksIGkrMSkgKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gc3RyO1xyXG4gIH07XHJcblxyXG4gIGV2ZW50LnRhcmdldC52YWx1ZSA9IHRvWmVuS2F0YShldmVudC50YXJnZXQudmFsdWUpO1xyXG5cclxuICByZXR1cm4gdGhpcy5yZXBsYWNlSGFsZihldmVudCk7XHJcblxyXG59XHJcblxyXG4gIC8qKlxyXG4gICAqIGlucHV05YCk44Gu5YWl5Yqb5paH5a2X5pWw5Yi26ZmQXHJcbiAgICogQHBhcmFtIGV2ZW50IGlucHV044Kk44OZ44Oz44OIXHJcbiAgICogQHBhcmFtIG1heGxlbmd0aCDlhaXlipvliLbpmZDmloflrZfmlbBcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHNsaWNlTGVuZ3RoKGV2ZW50OiBhbnksIG1heGxlbmd0aDogbnVtYmVyKSB7XHJcbiAgICBpZiAoIWV2ZW50KSByZXR1cm47XHJcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUuc2xpY2UoMCwgbWF4bGVuZ3RoKTtcclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlhaXlipvliLbpmZDoqJjlj7fjga7lj5blvpdcclxuICAgKiBAcGFyYW0gZXhjbHVzaW9uVmFsdWUg5YWl5Yqb5Y+v6IO95paH5a2X44Gu6YWN5YiXXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0UmVzdHJpY3RlZFNpZ24oZXhjbHVzaW9uVmFsdWU6IHN0cmluZ1tdKTogc3RyaW5nIHtcclxuICAgIGlmIChleGNsdXNpb25WYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGV4Y2x1c2lvblZhbHVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFNIQ3RsQ29tbW9uLmV4Y2x1ZGUoKTtcclxuICAgIHJldHVybiBTSEN0bENvbW1vbi5leGNsdWRlKGV4Y2x1c2lvblZhbHVlKTtcclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBpdGVt44GM5p2h5Lu244Gr6YGp44GX44Gm44GE44KL44Gq44KJdHJ1ZeOCkui/lOOBmSBcclxuICAgKiBAcGFyYW0gaXRlbSBcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIG5lZWRzRXNjYXBlKGl0ZW0pIHtcclxuICAgIGlmIChpdGVtID09PSBcIi5cIiB8fCBpdGVtID09PSBcIipcIiB8fCBpdGVtID09PSBcIi1cIiB8fCBpdGVtID09PSBcIitcIiB8fCBpdGVtID09PSBcIltcIiB8fCBpdGVtID09PSBcIl1cIikgcmV0dXJuIHRydWU7XHJcblxyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIGl0ZW3jga7liY3jgavjg4Djg5bjg6vjg5Djg4Pjgq/jgrnjg6njg4Pjgrfjg6Xku5jkuI7jgZnjgosgXHJcbiAgICogQHBhcmFtIGl0ZW0gXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBlc2NhcGVCeUJhY2tTbGFzaChpdGVtKSB7XHJcbiAgICBjb25zdCBlc2NhcGVkVmFsdWUgPSBcIlxcXFxcIiArIGl0ZW07XHJcbiAgICByZXR1cm4gZXNjYXBlZFZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5YWl5Yqb5LiN5Y+v5a++6LGh44Gu6KiY5Y+344GL44KJ5oyH5a6a44GX44Gf5paH5a2X5YiX44KS6Zmk5aSW44GZ44KLXHJcbiAgICogXCIrXCIgXCIuXCIg44Gq44Gp44Ko44K544Kx44O844OX44GM5b+F6KaB44Gq5paH5a2X44Gr44Gv44CAXCJcXFwi44KS44Gk44GR44KL44CAZXhcIlxcK1wiIFxyXG4gICAqIEBwYXJhbSBleGNsdXNpb25WYWx1ZSDlhaXlipvlj6/og73mloflrZfjga7phY3liJdcclxuICAgKi9cclxuICBwcml2YXRlIHN0YXRpYyBleGNsdWRlKGV4Y2x1c2lvblZhbHVlPzogc3RyaW5nW10pOiBzdHJpbmcge1xyXG4gICAgbGV0IGV4Y2x1ZGVJbmRleCA9IG51bGw7XHJcbiAgICBsZXQgc2lnbnNMaXN0ID0gdGhpcy5zaWducy5zcGxpdChcIlwiKTtcclxuICAgIHNpZ25zTGlzdC5tYXAoKGl0ZW0sIGluZGV4LCBhcnJheSkgPT4ge1xyXG4gICAgICBpZiAoZXhjbHVzaW9uVmFsdWUgIT09IHVuZGVmaW5lZCkgZXhjbHVkZUluZGV4ID0gZXhjbHVzaW9uVmFsdWUuaW5kZXhPZihpdGVtKTtcclxuICAgICAgaWYgKGV4Y2x1ZGVJbmRleCAhPT0gLTEgJiYgZXhjbHVkZUluZGV4ICE9PSBudWxsKSBhcnJheVtpbmRleF0gPSBcIlwiO1xyXG4gICAgICBpZiAoYXJyYXlbaW5kZXhdICE9PSBcIlwiICYmIGluZGV4ICE9PSAwICYmIGluZGV4ICE9PSBzaWduc0xpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgIGlmICh0aGlzLm5lZWRzRXNjYXBlKGl0ZW0pKSBhcnJheVtpbmRleF0gPSB0aGlzLmVzY2FwZUJ5QmFja1NsYXNoKGl0ZW0pO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHNpZ25zTGlzdC5qb2luKFwiXCIpO1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOOCq+OCueOCv+ODoOOCs+ODs+ODiOODreODvOODq+OCs+ODs+ODneODvOODjeODs+ODiOWGheOBruimgee0oOWQjemHjeikh+OCkumBv+OBkeOCi+OBn+OCgeOBruODpuODi+ODvOOCr+OCreODvFxyXG4gICAqIOOCq+OCueOCv+ODoOOCs+ODs+ODiOODreODvOODqzHjgaTjgavlr77jgZcx44Gk5oyB44GkXHJcbiAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldFVuaXF1ZVN0cigpIHtcclxuICAgIHJldHVybiBcInVrLVwiICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoLTgpO1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICog5b6T5qWt5ZOh44Kz44O844OJ44Gu5aSJ5o+bKDbmoYHihpI45qGBKVxyXG4gICogQHBhcmFtIHMg44Kz44O844OJ5paH5a2X5YiXXHJcbiAgKiBAcmV0dXJuIOWkieaPm+W+jOOBruOCs+ODvOODieaWh+Wtl+WIl1xyXG4gICovXHJcbiAgcHVibGljIHN0YXRpYyBjb252Snl1Q29kZTZUbzgoczogU3RyaW5nKTogU3RyaW5nIHtcclxuICAgIC8vIOODluODqeODs+OCr+OBquOCiVxyXG4gICAgaWYgKHRoaXMuaXNCbGFuayhzKSkgcmV0dXJuICcnO1xyXG4gICAgLy8gNuahgeS7peWkluWHpueQhuOBl+OBquOBhFxyXG4gICAgaWYgKHMudHJpbSgpLmxlbmd0aCAhPSA2ICYmICFpc05hTihwYXJzZUludChzLnRvU3RyaW5nKCkpKSkgcmV0dXJuIHM7XHJcblxyXG4gICAgbGV0IHNKeXVDb2RlID0gcztcclxuICAgIGxldCByZXN1bHQgPSAnMDAnO1xyXG5cclxuICAgIGlmICgoKHNKeXVDb2RlID09ICc5MjIyMjInKSB8fCAoc0p5dUNvZGUgPT0gJzkzMzMzMycpIHx8XHJcbiAgICAgIChzSnl1Q29kZSA9PSAnOTQ0NDQ0JykgfHwgKHNKeXVDb2RlID09ICc5NTU1NTUnKSB8fFxyXG4gICAgICAoc0p5dUNvZGUgPT0gJzk2NjY2NicpIHx8IChzSnl1Q29kZSA9PSAnOTc3Nzc3JykgfHxcclxuICAgICAgKHNKeXVDb2RlID09ICc5ODg4ODgnKSkgfHwgKChzSnl1Q29kZSA+PSAnOTk5MDAwJykgJiYgKHNKeXVDb2RlIDw9ICc5OTk5OTknKSkpIHtcclxuXHJcbiAgICAgIHJlc3VsdCA9ICc5OScgKyBzSnl1Q29kZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBzdHJDZCA9IHNKeXVDb2RlLnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICBzSnl1Q29kZSA9IHNKeXVDb2RlLnJlcGxhY2UoL1tjfGt8c10vZywgJycpO1xyXG4gICAgICBpZiAoc3RyQ2QgPT0gJ0MnIHx8IHN0ckNkID09ICdTJykge1xyXG4gICAgICAgIC8v5bemMeaWh+Wtl+OAgFtDXeOBi1tTXeOBruOBqOOBjVxyXG4gICAgICAgIGxldCBzdWJOdW1iZXIgPSBzSnl1Q29kZS5zdWJzdHIoMiwgMik7XHJcbiAgICAgICAgLy/lt6bjgavmloflrZfnm67jgYvjgonoh6rliIblkKvjgoHvvJLmloflrZfnm67jgYzjgIBcclxuICAgICAgICBpZiAoTnVtYmVyKHN1Yk51bWJlcikgPj0gMCAmJiBOdW1iZXIoc3ViTnVtYmVyKSA8PSA0OSkge1xyXG4gICAgICAgICAgLy8+PSAwIOOBiuOCiOOBs+OAgCA8PTQ5IOOBruWgtOWQiFxyXG4gICAgICAgICAgcmVzdWx0ID0gJzIwJyArIHNKeXVDb2RlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLz49IDAg44GK44KI44Gz44CAIDw9NDkg44Gn44Gq44GE5aC05ZCIXHJcbiAgICAgICAgICByZXN1bHQgPSAnMTknICsgc0p5dUNvZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHN0ckNkID09ICdLJykge1xyXG4gICAgICAgIC8v5bemMeaWh+Wtl+OAgFtDXeOBi1tTXeOBruOBqOOBjeOBp+OBquOBj1tLXeOBruWgtOWQiFxyXG4gICAgICAgIHJlc3VsdCA9ICcwMCcgKyBzSnl1Q29kZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvL+W3pjHmloflrZfjgIDkuIroqJjku6XlpJZcclxuICAgICAgICBsZXQgclN0ciA9IHNKeXVDb2RlLnN1YnN0cigtMiwgMik7XHJcbiAgICAgICAgLy/lt6bvvJLmloflrZfjgYxcclxuICAgICAgICBpZiAoTnVtYmVyKHJTdHIpID49IDAgJiYgTnVtYmVyKHJTdHIpIDw9IDQzKSB7XHJcbiAgICAgICAgICAvLyAgICAgPj0gMCDlj4rjgbPjgIA8PSA0MyDjga7loLTlkIhcclxuICAgICAgICAgIHJlc3VsdCA9ICcyMCcgKyBzSnl1Q29kZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8+PSAwIOWPiuOBs+OAgDw9IDQzIOOBp+OBquOBhOWgtOWQiFxyXG4gICAgICAgICAgcmVzdWx0ID0gJzE5JyArIHNKeXVDb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8g5pW05b2i5paH5a2X6L+U5Y20XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICB9XHJcblxyXG59Il19