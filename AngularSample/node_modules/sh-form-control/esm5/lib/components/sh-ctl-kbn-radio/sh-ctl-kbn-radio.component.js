/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, EventEmitter, Input, Output } from "@angular/core";
import { SmplKbnCodeService } from "../../services/smpl-kbn-code.service";
import { SHFormControl } from '../../utilities/ShFormControl';
var SHCtlKbnRadioComponent = /** @class */ (function (_super) {
    tslib_1.__extends(SHCtlKbnRadioComponent, _super);
    function SHCtlKbnRadioComponent(SmplKbnRadioService) {
        var _this = _super.call(this) || this;
        _this.SmplKbnRadioService = SmplKbnRadioService;
        _this.dataKbnName = "";
        _this.radioContent = "";
        _this.apiUrl = "/api/";
        _this.displayLabel = "";
        _this.throwError = new EventEmitter();
        _this.name = "";
        _this.ctlName = "SHCtlKbnRadio";
        return _this;
    }
    /**
     *プロパティの初期化
     *通常サービスにキャッシュしているが、無ければ再度マスタより取得
     */
    /**
     * プロパティの初期化
     * 通常サービスにキャッシュしているが、無ければ再度マスタより取得
     * @return {?}
     */
    SHCtlKbnRadioComponent.prototype.ngOnInit = /**
     * プロパティの初期化
     * 通常サービスにキャッシュしているが、無ければ再度マスタより取得
     * @return {?}
     */
    function () {
        var _this = this;
        this.onInit();
        if (!this.items) {
            if (this.SmplKbnRadioService.getMasterData(this.apiUrl).length == 0) {
                this.SmplKbnRadioService.fetchAll(this.apiUrl).then((/**
                 * @param {?} response
                 * @return {?}
                 */
                function (response) {
                    _this.kbnCodes = response;
                    _this.SmplKbnRadioService.setMasterData(_this.apiUrl, response);
                }));
            }
            else {
                if (this.SmplKbnRadioService.getMasterData(this.apiUrl).length > 0)
                    this.kbnCodes = this.SmplKbnRadioService.getMasterData(this.apiUrl);
            }
        }
        else {
            this.kbnCodes = this.items;
        }
    };
    /**
     * ngOnChanges
     */
    /**
     * ngOnChanges
     * @param {?} change
     * @return {?}
     */
    SHCtlKbnRadioComponent.prototype.ngOnChanges = /**
     * ngOnChanges
     * @param {?} change
     * @return {?}
     */
    function (change) {
        if (change.items && change.items.currentValue) {
            this.kbnCodes = change.items.currentValue;
        }
        if (change.value) {
            if (change.value.currentValue) {
                this.value = change.value.currentValue.toString();
            }
        }
    };
    /**
     * onClick
     * @param event click
     */
    /**
     * onClick
     * @param {?} event click
     * @return {?}
     */
    SHCtlKbnRadioComponent.prototype.onClick = /**
     * onClick
     * @param {?} event click
     * @return {?}
     */
    function (event) {
        this.onBeforeClick(event);
        this.onAfterClick(event);
    };
    /**
     * onChange
     * @param event change
     */
    /**
     * onChange
     * @param {?} event change
     * @return {?}
     */
    SHCtlKbnRadioComponent.prototype.onChange = /**
     * onChange
     * @param {?} event change
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.onBeforeChange(event);
        this.valueChange.emit(event.value);
        setTimeout((/**
         * @return {?}
         */
        function () { _this.onAfterChange(event); }), 0);
    };
    /**
     * onFocus
     * @param event focus
     */
    /**
     * onFocus
     * @param {?} event focus
     * @return {?}
     */
    SHCtlKbnRadioComponent.prototype.onFocus = /**
     * onFocus
     * @param {?} event focus
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.onBeforeFocus(event);
        setTimeout((/**
         * @return {?}
         */
        function () { _this.onAfterFocus(event); }), 0);
    };
    /**
     * onBlur
     * @param event blur
     */
    /**
     * onBlur
     * @param {?} event blur
     * @return {?}
     */
    SHCtlKbnRadioComponent.prototype.onBlur = /**
     * onBlur
     * @param {?} event blur
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.onBeforeBlur(event);
        setTimeout((/**
         * @return {?}
         */
        function () { _this.onAfterBlur(event); }), 0);
        ;
    };
    /**
     * フォーマット編集
     * @param value this.value
     */
    /**
     * フォーマット編集
     * @param {?} item
     * @return {?}
     */
    SHCtlKbnRadioComponent.prototype.changeRadioContent = /**
     * フォーマット編集
     * @param {?} item
     * @return {?}
     */
    function (item) {
        this.radioContent = item;
    };
    SHCtlKbnRadioComponent.decorators = [
        { type: Component, args: [{
                    selector: "sh-ctl-kbn-radio",
                    template: "<ng-container *ngIf=\"!onlyField; else onlyFieldControl\">\r\n  <div *ngIf=\"!isDisabled\" style=\"height: 52.5px;\">\r\n    <div style=\"height: 52.5px;\">\r\n      <label class=\"sh-label\">{{title}}</label>\r\n      <mat-radio-group [(ngModel)]=\"value\" [required]=\"required\" aria-label=\"Select an option\" [disabled]=\"disabled\">\r\n        <mat-radio-button *ngFor=\"let item of kbnCodes\" value=\"{{item.key}}\" attr.name=\"{{ctlName}}\"\r\n           (click)=\"onClick($event)\" (change)=\"onChange($event)\" (focus)=\"onFocus($event)\"\r\n          (blur)=\"onBlur($event)\" [ngStyle]=\"styles\" [ngClass]=\"objClass\" class=\"{{strClass}}\">\r\n          {{item.value}}</mat-radio-button>\r\n      </mat-radio-group>\r\n    </div>\r\n    <span class=\"custom-alert-message\" style=\"top:0px\">{{message.toString().split(',').join(' ')}}</span>\r\n  </div>\r\n</ng-container>\r\n\r\n<ng-template #onlyFieldControl>\r\n  <div class=\"only-field\">\r\n    <div>\r\n      <mat-radio-group [(ngModel)]=\"value\" [required]=\"required\" aria-label=\"Select an option\" [disabled]=\"disabled\">\r\n        <mat-radio-button *ngFor=\"let item of kbnCodes\" value=\"{{item.key}}\" attr.name=\"{{ctlName}}\"\r\n           (click)=\"onClick($event)\" (change)=\"onChange($event)\" (focus)=\"onFocus($event)\"\r\n          (blur)=\"onBlur($event)\" [ngStyle]=\"styles\" [ngClass]=\"objClass\" class=\"{{strClass}}\">\r\n          {{item.value}}</mat-radio-button>\r\n      </mat-radio-group>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n\r\n<div *ngIf=\"isDisabled\" class=\"display-ctl-view\">\r\n  <div>\r\n    <div *ngIf=\"title\" class=\"display-ctl-view\">\r\n      <div class=\"display-result\" [ngStyle]=\"{'width.px': labelWidth}\" fxLayout=\"row wrap\" fxFlex>\r\n        <div fxFlex class=\"item-title\"><strong>{{title}}:</strong></div>\r\n      </div>\r\n      <div *ngFor=\"let item of kbnCodes;\">\r\n        <div fxFlex class=\"valueOutput\" *ngIf=\"value == item.key\">\r\n          {{item.value}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"!title\" class=\"display-ctl-view notitle-value\">\r\n      <div *ngFor=\"let item of kbnCodes;\">\r\n        <div fxFlex class=\"valueOutput\" *ngIf=\"value == item.key\">\r\n          {{item.value}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n",
                    styles: [".sh-label{font-size:.75rem;min-height:18px}.sh-radio{margin:0 10px}.display-ctl-view{display:-webkit-box;display:flex}.display-result{margin-left:30px}.valueOutput{-webkit-box-flex:1;flex:1}.mat-radio-button~.mat-radio-button{margin-left:16px}.notitle-value{width:100%;margin-left:30px}", ".sh-flex{width:100%;display:-webkit-inline-box;display:inline-flex}.sh-flex-center{-webkit-box-align:center;align-items:center}.sh-flex-between{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.display-ctl-view{margin-top:20px}.overlay{position:fixed;display:-webkit-box;display:flex;top:0;left:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;height:100%;width:100%;color:gray;background-color:rgba(0,0,0,.5);z-index:9999}.loader-text{display:block;color:#f3f3f3;margin-top:1em}.mat-dialog-content{overflow:hidden;max-height:none}.sh-dialog-content{height:85%}.sh-kbn-dialog-table-container{height:92%;overflow-y:scroll;margin-top:18px;margin-bottom:18px}.sh-dialog-table-container{display:-webkit-box;display:flex;height:83%;overflow-y:scroll;margin-top:18px;margin-bottom:18px}.sh-text-center{text-align:center}.sh-width-100{width:100%}.sh-label{display:block}.custom-alert-message{top:-20px;position:relative;font-size:.75em;color:rgba(0,0,0,.54)}.result-input,.sh-label{color:rgba(0,0,0,.87)}::ng-deep .mat-form-field-label span{color:rgba(0,0,0,.87)}::ng-deep .result-container .mat-form-field-flex{background-color:#ccdcff}.sh-ctl-state-primary::ng-deep .mat-form-field-label{color:#3f51b5}.sh-ctl-state-primary::ng-deep .mat-form-field-underline{background-color:#3f51b5}.sh-ctl-state-primary-message{color:#3f51b5}.sh-ctl-state-secondary::ng-deep .mat-form-field-label{color:#ff4081}.sh-ctl-state-secondary::ng-deep .mat-form-field-underline{background-color:#ff4081}.sh-ctl-state-secondary-message{color:#ff4081}.sh-ctl-state-success::ng-deep .mat-form-field-label{color:#0dad17}.sh-ctl-state-success::ng-deep .mat-form-field-underline{background-color:#0dad17}.sh-ctl-state-success-message{color:#0dad17}.sh-ctl-state-danger::ng-deep .mat-form-field-label{color:#f44336}.sh-ctl-state-danger::ng-deep .mat-form-field-underline{background-color:#f44336}.sh-ctl-state-danger-message{color:#f44336}.sh-ctl-state-warning::ng-deep .mat-form-field-label{color:#e29f2b}.sh-ctl-state-warning::ng-deep .mat-form-field-underline{background-color:#e29f2b}.sh-ctl-state-warning-message{color:#e29f2b}.sh-container{position:relative;width:100%;height:100%}.only-field{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;width:100%;height:100%;min-height:28px}.only-field input,.only-field textarea{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.only-field-danger{background-color:#f44336}.only-field-warning{background-color:#e29f2b}.only-field-success{background-color:#0dad17}::ng-deep .only-field .material-icons{font-size:13px}::ng-deep .only-field .mat-button{position:relative;width:24px;height:24px}::ng-deep .only-field .mat-icon-button{position:relative;width:24px;height:24px}::ng-deep .only-field .mat-icon{position:absolute;top:0;left:0}::ng-deep .only-field .mat-datepicker-toggle-default-icon{position:absolute;top:25%;left:0;right:0;bottom:0;margin-left:auto;margin-right:auto}::ng-deep .mat-datepicker-toggle span svg{width:16px;height:16px}.only-label{background-color:#ccdcff;position:relative}.only-label mat-icon{position:absolute;top:25%;left:0;right:0;bottom:0;margin-left:auto;font-size:16px}.bind-flg__input{opacity:0;height:0;width:0;position:absolute;z-index:-100}"]
                }] }
    ];
    /** @nocollapse */
    SHCtlKbnRadioComponent.ctorParameters = function () { return [
        { type: SmplKbnCodeService }
    ]; };
    SHCtlKbnRadioComponent.propDecorators = {
        dataKbnName: [{ type: Input }],
        radioContent: [{ type: Input }],
        apiUrl: [{ type: Input }],
        displayLabel: [{ type: Input }],
        throwError: [{ type: Output }]
    };
    return SHCtlKbnRadioComponent;
}(SHFormControl));
export { SHCtlKbnRadioComponent };
if (false) {
    /** @type {?} */
    SHCtlKbnRadioComponent.prototype.dataKbnName;
    /** @type {?} */
    SHCtlKbnRadioComponent.prototype.radioContent;
    /** @type {?} */
    SHCtlKbnRadioComponent.prototype.apiUrl;
    /** @type {?} */
    SHCtlKbnRadioComponent.prototype.displayLabel;
    /** @type {?} */
    SHCtlKbnRadioComponent.prototype.throwError;
    /** @type {?} */
    SHCtlKbnRadioComponent.prototype.name;
    /** @type {?} */
    SHCtlKbnRadioComponent.prototype.kbnCodes;
    /**
     * @type {?}
     * @private
     */
    SHCtlKbnRadioComponent.prototype.SmplKbnRadioService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2gtY3RsLWtibi1yYWRpby5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9zaC1mb3JtLWNvbnRyb2wvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9zaC1jdGwta2JuLXJhZGlvL3NoLWN0bC1rYm4tcmFkaW8uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBNEIsTUFBTSxlQUFlLENBQUM7QUFFekcsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDMUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLCtCQUErQixDQUFBO0FBRTdEO0lBSzRDLGtEQUFxQjtJQVUvRCxnQ0FBb0IsbUJBQXVDO1FBQTNELFlBQ0UsaUJBQU8sU0FFUjtRQUhtQix5QkFBbUIsR0FBbkIsbUJBQW1CLENBQW9CO1FBVDNDLGlCQUFXLEdBQVcsRUFBRSxDQUFDO1FBQ3pCLGtCQUFZLEdBQVEsRUFBRSxDQUFDO1FBQ3ZCLFlBQU0sR0FBVyxPQUFPLENBQUM7UUFDekIsa0JBQVksR0FBVyxFQUFFLENBQUM7UUFDekIsZ0JBQVUsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBRTFDLFVBQUksR0FBVyxFQUFFLENBQUM7UUFLdkIsS0FBSSxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUM7O0lBQ2pDLENBQUM7SUFFRDs7O09BR0c7Ozs7OztJQUNJLHlDQUFROzs7OztJQUFmO1FBQUEsaUJBZUM7UUFkQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDZCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNmLElBQUksSUFBSSxDQUFDLG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtnQkFDbkUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FB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S0FBSzs2QkFDTCxNQUFNOztJQThGVCw2QkFBQztDQUFBLEFBeEdELENBSzRDLGFBQWEsR0FtR3hEO1NBbkdZLHNCQUFzQjs7O0lBQ2pDLDZDQUF5Qzs7SUFDekMsOENBQXVDOztJQUN2Qyx3Q0FBeUM7O0lBQ3pDLDhDQUEwQzs7SUFDMUMsNENBQWlEOztJQUVqRCxzQ0FBeUI7O0lBQ3pCLDBDQUFtQzs7Ozs7SUFFdkIscURBQStDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgT25DaGFuZ2VzLCBTaW1wbGVDaGFuZ2VzIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcclxuaW1wb3J0IHsgU21wbEtibkNvZGVUeXBlIH0gZnJvbSBcIi4uLy4uL2VudGl0aWVzL1NtcGxLYm5Db2RlVHlwZVwiO1xyXG5pbXBvcnQgeyBTbXBsS2JuQ29kZVNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vc2VydmljZXMvc21wbC1rYm4tY29kZS5zZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFNIRm9ybUNvbnRyb2wgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvU2hGb3JtQ29udHJvbCdcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiBcInNoLWN0bC1rYm4tcmFkaW9cIixcclxuICB0ZW1wbGF0ZVVybDogXCIuL3NoLWN0bC1rYm4tcmFkaW8uY29tcG9uZW50Lmh0bWxcIixcclxuICBzdHlsZVVybHM6IFtcIi4vc2gtY3RsLWtibi1yYWRpby5jb21wb25lbnQuY3NzXCIsIFwiLi4vLi4vLi4vc3R5bGUuY29tbW9uLmNzc1wiXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgU0hDdGxLYm5SYWRpb0NvbXBvbmVudCBleHRlbmRzIFNIRm9ybUNvbnRyb2w8c3RyaW5nPiBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzIHtcclxuICBASW5wdXQoKSBwdWJsaWMgZGF0YUtibk5hbWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgQElucHV0KCkgcHVibGljIHJhZGlvQ29udGVudDogYW55ID0gXCJcIjtcclxuICBASW5wdXQoKSBwdWJsaWMgYXBpVXJsOiBzdHJpbmcgPSBcIi9hcGkvXCI7XHJcbiAgQElucHV0KCkgcHVibGljIGRpc3BsYXlMYWJlbDogc3RyaW5nID0gXCJcIjtcclxuICBAT3V0cHV0KCkgcHVibGljIHRocm93RXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG4gIHB1YmxpYyBrYm5Db2RlczogU21wbEtibkNvZGVUeXBlW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgU21wbEtiblJhZGlvU2VydmljZTogU21wbEtibkNvZGVTZXJ2aWNlKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5jdGxOYW1lID0gXCJTSEN0bEtiblJhZGlvXCI7XHJcbiAgfVxyXG4gXHJcbiAgLyoqXHJcbiAgICrjg5fjg63jg5Hjg4bjgqPjga7liJ3mnJ/ljJZcclxuICAgKumAmuW4uOOCteODvOODk+OCueOBq+OCreODo+ODg+OCt+ODpeOBl+OBpuOBhOOCi+OBjOOAgeeEoeOBkeOCjOOBsOWGjeW6puODnuOCueOCv+OCiOOCiuWPluW+l1xyXG4gICAqL1xyXG4gIHB1YmxpYyBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMub25Jbml0KCk7XHJcbiAgICBpZiAoIXRoaXMuaXRlbXMpIHtcclxuICAgICAgaWYgKHRoaXMuU21wbEtiblJhZGlvU2VydmljZS5nZXRNYXN0ZXJEYXRhKHRoaXMuYXBpVXJsKS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgIHRoaXMuU21wbEtiblJhZGlvU2VydmljZS5mZXRjaEFsbCh0aGlzLmFwaVVybCkudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmtibkNvZGVzID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICB0aGlzLlNtcGxLYm5SYWRpb1NlcnZpY2Uuc2V0TWFzdGVyRGF0YSh0aGlzLmFwaVVybCwgcmVzcG9uc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh0aGlzLlNtcGxLYm5SYWRpb1NlcnZpY2UuZ2V0TWFzdGVyRGF0YSh0aGlzLmFwaVVybCkubGVuZ3RoID4gMClcclxuICAgICAgICAgIHRoaXMua2JuQ29kZXMgPSB0aGlzLlNtcGxLYm5SYWRpb1NlcnZpY2UuZ2V0TWFzdGVyRGF0YSh0aGlzLmFwaVVybCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMua2JuQ29kZXMgPSB0aGlzLml0ZW1zO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogbmdPbkNoYW5nZXNcclxuICAgKi9cclxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlOiBTaW1wbGVDaGFuZ2VzKSB7XHJcbiAgICBpZihjaGFuZ2UuaXRlbXMgJiYgY2hhbmdlLml0ZW1zLmN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICB0aGlzLmtibkNvZGVzID0gY2hhbmdlLml0ZW1zLmN1cnJlbnRWYWx1ZTtcclxuICAgIH1cclxuICAgIGlmIChjaGFuZ2UudmFsdWUpIHtcclxuICAgICAgaWYgKGNoYW5nZS52YWx1ZS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gY2hhbmdlLnZhbHVlLmN1cnJlbnRWYWx1ZS50b1N0cmluZygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBvbkNsaWNrXHJcbiAgICogQHBhcmFtIGV2ZW50IGNsaWNrXHJcbiAgICovXHJcbiAgcHVibGljIG9uQ2xpY2soZXZlbnQpIHtcclxuICAgIHRoaXMub25CZWZvcmVDbGljayhldmVudCk7XHJcblxyXG4gICAgdGhpcy5vbkFmdGVyQ2xpY2soZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb25DaGFuZ2VcclxuICAgKiBAcGFyYW0gZXZlbnQgY2hhbmdlXHJcbiAgICovXHJcbiAgcHVibGljIG9uQ2hhbmdlKGV2ZW50OiBhbnkpIHtcclxuICAgIHRoaXMub25CZWZvcmVDaGFuZ2UoZXZlbnQpO1xyXG5cclxuICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdChldmVudC52YWx1ZSk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7dGhpcy5vbkFmdGVyQ2hhbmdlKGV2ZW50KX0sIDApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb25Gb2N1c1xyXG4gICAqIEBwYXJhbSBldmVudCBmb2N1c1xyXG4gICAqL1xyXG4gIHB1YmxpYyBvbkZvY3VzKGV2ZW50KSB7XHJcbiAgICB0aGlzLm9uQmVmb3JlRm9jdXMoZXZlbnQpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge3RoaXMub25BZnRlckZvY3VzKGV2ZW50KX0sIDApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb25CbHVyXHJcbiAgICogQHBhcmFtIGV2ZW50IGJsdXJcclxuICAgKi9cclxuICBwdWJsaWMgb25CbHVyKGV2ZW50KSB7XHJcbiAgICB0aGlzLm9uQmVmb3JlQmx1cihldmVudCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7dGhpcy5vbkFmdGVyQmx1cihldmVudCk7fSwgMCk7O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44OV44Kp44O844Oe44OD44OI57eo6ZuGXHJcbiAgICogQHBhcmFtIHZhbHVlIHRoaXMudmFsdWVcclxuICAgKi9cclxuICBwdWJsaWMgY2hhbmdlUmFkaW9Db250ZW50KGl0ZW0pIHtcclxuICAgIHRoaXMucmFkaW9Db250ZW50ID0gaXRlbTtcclxuICB9XHJcbn1cclxuIl19