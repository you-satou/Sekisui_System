/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, Input, ElementRef } from "@angular/core";
import { SHCtlCommon } from "../sh-ctl-common";
import { SHFormControl } from "../../utilities/ShFormControl";
import { FormControl } from "@angular/forms";
import { MomentDateAdapter, MAT_MOMENT_DATE_ADAPTER_OPTIONS } from "@angular/material-moment-adapter";
import { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from "@angular/material/core";
import * as _moment from "moment";
/** @type {?} */
var moment = _moment;
/** @type {?} */
export var MY_FORMATS = {
    parse: {
        dateInput: "MM/YYYY"
    },
    display: {
        dateInput: "MM/YYYY",
        monthYearLabel: "MMM YYYY",
        dateA11yLabel: "LL",
        monthYearA11yLabel: "MMMM YYYY"
    }
};
var ɵ0 = {
    parse: {
        dateInput: "YYYY-MM"
    },
    display: {
        dateInput: "YYYY-MM",
        monthYearLabel: "MMM YYYY",
        dateA11yLabel: "LL",
        monthYearA11yLabel: "MMMM YYYY"
    }
};
var SHCtlYearMonthComponent = /** @class */ (function (_super) {
    tslib_1.__extends(SHCtlYearMonthComponent, _super);
    function SHCtlYearMonthComponent(dataAdapter, el) {
        var _this = _super.call(this) || this;
        _this.dataAdapter = dataAdapter;
        _this.el = el;
        _this.isValidateError = false;
        _this.errorMessage = "日付に誤りがあります。";
        _this.cache = { year: null, month: null };
        _this.date = new FormControl(moment());
        _this.max = "9999-12";
        _this.min = "1000-12";
        _this.ctlName = "SHCtlYearMonth";
        dataAdapter.setLocale("ja");
        return _this;
    }
    /**
     * DatePickerのyear選択時のハンドラー
     * @param normalizedYear
     */
    /**
     * DatePickerのyear選択時のハンドラー
     * @param {?} normalizedYear
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.chosenYearHandler = /**
     * DatePickerのyear選択時のハンドラー
     * @param {?} normalizedYear
     * @return {?}
     */
    function (normalizedYear) {
        this.cache.year = normalizedYear.year();
    };
    /**
     * DatePickerのmonth選択時のハンドラー
     * @param normalizedMonth
     * @param datepicker
     */
    /**
     * DatePickerのmonth選択時のハンドラー
     * @param {?} normalizedMonth
     * @param {?} datepicker
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.chosenMonthHandler = /**
     * DatePickerのmonth選択時のハンドラー
     * @param {?} normalizedMonth
     * @param {?} datepicker
     * @return {?}
     */
    function (normalizedMonth, datepicker) {
        this.cache.month = normalizedMonth.month() + 1;
        datepicker.close();
        this.setValue();
        /** @type {?} */
        var inputValue = (/** @type {?} */ (document.querySelector("textarea[name=" + this.ctlName + "], input[name=" + this.ctlName + "]")));
        setTimeout((/**
         * @return {?}
         */
        function () { inputValue.dispatchEvent(new Event('change')); }), 10);
        this.valueChange.emit(this.toValue(this.value));
    };
    /**
     * DatePickerから取得した値をvalueへセットする
     */
    /**
     * DatePickerから取得した値をvalueへセットする
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.setValue = /**
     * DatePickerから取得した値をvalueへセットする
     * @return {?}
     */
    function () {
        /** @type {?} */
        var yearAndMonth = this.cache.year.toString() + this.cache.month.toString();
        this.value = this.toText(yearAndMonth);
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if (!changes.value) {
            return;
        }
        if (!changes.value.currentValue) {
            this.value = "";
            return;
        }
        if (changes.value.currentValue.length >= 7) {
            this.value = "";
            return;
        }
        if (changes.value.currentValue) {
            this.value = this.toText(changes.value.currentValue);
        }
    };
    /**
     * @param {?} date
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.getYearAndManth = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        if (!date)
            return;
        /** @type {?} */
        var val = new Date(date).toLocaleDateString().split('/');
        /** @type {?} */
        var year = val[0];
        /** @type {?} */
        var month = val[1];
        return "" + year + month;
    };
    /**
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.ngAfterContentChecked = /**
     * @return {?}
     */
    function () {
        if (this.value != null && this.isDisabled) {
            this.changeFormat(this.value.replace("-", ""));
        }
    };
    /**
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.onInit();
    };
    /**
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngAfterViewInit.call(this);
        if (!this.isDisabled) {
            /** @type {?} */
            var element = (/** @type {?} */ (this.el.nativeElement.querySelector('input')));
            element.setAttribute("max", this.max);
            element.setAttribute("min", this.min);
        }
    };
    /**
     * onOpened
     */
    /**
     * onOpened
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.onOpened = /**
     * onOpened
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var el = document.querySelector("mat-datepicker-content");
        el.addEventListener("focusin", (/**
         * @return {?}
         */
        function () {
            _this.isfocused = true;
        }));
    };
    /**
     * onClosed
     */
    /**
     * onClosed
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.onClosed = /**
     * onClosed
     * @return {?}
     */
    function () {
        /** @type {?} */
        var inputValue = (/** @type {?} */ (document.querySelector("textarea[name=" + this.ctlName + "], input[name=" + this.ctlName + "]")));
        setTimeout((/**
         * @return {?}
         */
        function () { inputValue.dispatchEvent(new Event('focus')); }), 0);
    };
    /**
     * onInput
     * @param event input
     */
    /**
     * onInput
     * @param {?} event input
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.onInput = /**
     * onInput
     * @param {?} event input
     * @return {?}
     */
    function (event) {
        this.yearAndMonthCalculation(event);
    };
    /**
     * onKeypress
     * @param event keypress
     */
    /**
     * onKeypress
     * @param {?} event keypress
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.onKeypress = /**
     * onKeypress
     * @param {?} event keypress
     * @return {?}
     */
    function (event) {
        this.yearAndMonthCalculation(event);
    };
    /**
     * onClick
     * @param event click
     */
    /**
     * onClick
     * @param {?} event click
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.onClick = /**
     * onClick
     * @param {?} event click
     * @return {?}
     */
    function (event) {
        this.onBeforeClick(event);
        this.onAfterClick(event);
    };
    /**
     * onChange
     * @param event change
     */
    /**
     * onChange
     * @param {?} event change
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.onChange = /**
     * onChange
     * @param {?} event change
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.onBeforeChange(event);
        this.valueChange.emit(this.toValue(event.target.value));
        setTimeout((/**
         * @return {?}
         */
        function () { _this.onAfterChange(event); }), 0);
    };
    /**
     * onFocus
     * @param event focus
     */
    /**
     * onFocus
     * @param {?} event focus
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.onFocus = /**
     * onFocus
     * @param {?} event focus
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.onBeforeFocus(event);
        this.value = this.toText(event.target.value);
        event.target.select();
        setTimeout((/**
         * @return {?}
         */
        function () { _this.onAfterFocus(event); }), 0);
        return true;
    };
    /**
     * onBlur
     * @param event blur
     */
    /**
     * onBlur
     * @param {?} event blur
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.onBlur = /**
     * onBlur
     * @param {?} event blur
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.onBeforeBlur(event);
        setTimeout((/**
         * @return {?}
         */
        function () { _this.onAfterBlur(event); }), 0);
        ;
    };
    /**
     * 年月計算
     * @param event
     */
    /**
     * 年月計算
     * @private
     * @param {?} event
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.yearAndMonthCalculation = /**
     * 年月計算
     * @private
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var key = this.isKeysAllowedToMe(event);
        if (key === 0) {
            this.setCurrentDate(event);
            this.onChange(event);
        }
    };
    /**
     * 自タイプに許容されているキー
     * @param event keypress
     */
    /**
     * 自タイプに許容されているキー
     * @private
     * @param {?} event keypress
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.isKeysAllowedToMe = /**
     * 自タイプに許容されているキー
     * @private
     * @param {?} event keypress
     * @return {?}
     */
    function (event) {
        if (event.key === SHCtlCommon.Const.keyCodes.signs[191]) {
            return 0;
        }
        return null;
    };
    /**
     * 本日日付の設定
     * @param event keypress
     */
    /**
     * 本日日付の設定
     * @param {?} event keypress
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.setCurrentDate = /**
     * 本日日付の設定
     * @param {?} event keypress
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var newDate = new Date();
        /** @type {?} */
        var nullFirstString = null;
        /** @type {?} */
        var nullLastString = null;
        nullFirstString = SHCtlCommon.padding(newDate.getFullYear(), 4); // YYYY
        nullLastString = SHCtlCommon.padding(newDate.getMonth() + 1, 2); // MM
        event.target.value = String(nullFirstString + "-" + nullLastString);
    };
    /**
     * 接頭語付与
     * @param inputTargetValue num.substr(0, 2)
     */
    /**
     * 接頭語付与
     * @param {?} inputTargetValue num.substr(0, 2)
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.convYear = /**
     * 接頭語付与
     * @param {?} inputTargetValue num.substr(0, 2)
     * @return {?}
     */
    function (inputTargetValue) {
        if (inputTargetValue >= "00" && inputTargetValue <= 49) {
            return "20" + inputTargetValue;
        }
        else {
            return "19" + inputTargetValue;
        }
    };
    /**
     * YYYY/MM処理
     * @param inputTargetValue event.target.value
     */
    /**
     * YYYY/MM処理
     * @param {?} inputTargetValue event.target.value
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.toText = /**
     * YYYY/MM処理
     * @param {?} inputTargetValue event.target.value
     * @return {?}
     */
    function (inputTargetValue) {
        /** @type {?} */
        var num = inputTargetValue.toString().replace(/\//g, "");
        if (num.trim().length === 0) {
            return "";
        }
        // 4桁西暦
        if (num.length === 3 || num.length === 4) {
            // // 接頭語取得
            return SHCtlCommon.padding(num, 4) + "-01";
        }
        else if (num.length === 5 || num.length === 6) {
            // 接頭語取得
            /** @type {?} */
            var year = num.substr(0, 4) + "-" + ("00" + num.substr(4)).slice(-2);
            return year;
        }
        else {
            return inputTargetValue;
        }
    };
    /**
     * 接続文字除去
     * @param inputTargetValue event.target.value
     */
    /**
     * 接続文字除去
     * @param {?} inputTargetValue event.target.value
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.toValue = /**
     * 接続文字除去
     * @param {?} inputTargetValue event.target.value
     * @return {?}
     */
    function (inputTargetValue) {
        return new String(inputTargetValue).replace("-", "");
    };
    /**
     * フォーマット編集
     * @param value this.value
     */
    /**
     * フォーマット編集
     * @param {?} value this.value
     * @return {?}
     */
    SHCtlYearMonthComponent.prototype.changeFormat = /**
     * フォーマット編集
     * @param {?} value this.value
     * @return {?}
     */
    function (value) {
        if (value != null && value != undefined && value.length === 6) {
            /** @type {?} */
            var nullFirstString = null;
            /** @type {?} */
            var nullLastString = null;
            nullFirstString = value.slice(0, 4);
            nullLastString = value.slice(4, 6);
            this.stringValue = String(nullFirstString + "年" + nullLastString + "月");
            return this.stringValue;
        }
        else {
            this.stringValue = '';
            return this.stringValue;
        }
    };
    SHCtlYearMonthComponent.decorators = [
        { type: Component, args: [{
                    selector: "sh-ctl-year-month",
                    template: "<ng-container *ngIf=\"!onlyField; else onlyFieldControl\">\r\n  <div *ngIf=\"!isDisabled\" (focusin)=\"onFocusin($event)\" (focusout)=\"onFocusout($event)\">\r\n    <mat-form-field class=\"mat-validation\" [floatLabel]=\"floatLabel\">\r\n      <input #inputElm matInput [matDatepicker]=\"dp\" type=\"month\" max=\"{{max}}\" min=\"{{min}}\" attr.name=\"{{ctlName}}\"\r\n        class=\"form-control ShCtlYearMonth can-moved-with-the-enter-key {{strClass}}\" [placeholder]=\"title\"\r\n        [required]=\"required\" [disabled]=\"disabled\" [class.isValidateError]=\"isValidateError\" [ngStyle]=\"styles\"\r\n        [ngClass]=\"objClass\" [(ngModel)]=\"value\" (keypress)=\"onKeypress($event)\" (click)=\"onClick($event)\"\r\n        (change)=\"onChange($event)\" (focus)=\"onFocus($event)\" (input)=\"onInput($event)\" />\r\n      <button mat-button *ngIf=\"inputElm.value && !inputElm.readOnly && !inputElm.disabled\" matSuffix mat-icon-button\r\n        aria-label=\"Clear\" (mousedown)=\"clearValue()\" (keydown)=\"clickClearButton($event)\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n      <mat-datepicker-toggle matSuffix [for]=\"dp\" (mousedown)=\"dp.open(); $event.preventDefault(); $event.stopPropagation();\"></mat-datepicker-toggle>\r\n      <mat-datepicker #dp startView=\"multi-year\" (opened)=\"onOpened()\" (closed)=\"onClosed()\" (yearSelected)=\"chosenYearHandler($event)\"\r\n        (monthSelected)=\"chosenMonthHandler($event, dp)\" panelClass=\"example-month-picker\">\r\n      </mat-datepicker>\r\n    </mat-form-field>\r\n    <span class=\"custom-alert-message\">{{message.toString().split(',').join(' ')}}</span>\r\n  </div>\r\n</ng-container>\r\n\r\n<ng-template #onlyFieldControl>\r\n  <div class=\"only-field\" (focusin)=\"onFocusin($event)\" (focusout)=\"onFocusout($event)\">\r\n    <input #inputElm matInput [matDatepicker]=\"dp\" type=\"month\" max=\"{{max}}\" min=\"{{min}}\" attr.name=\"{{ctlName}}\"\r\n        class=\"form-control ShCtlYearMonth can-moved-with-the-enter-key {{strClass}}\" [placeholder]=\"title\"\r\n        [required]=\"required\" [disabled]=\"disabled\" [class.isValidateError]=\"isValidateError\" [ngStyle]=\"styles\"\r\n        [ngClass]=\"objClass\" [(ngModel)]=\"value\" (keypress)=\"onKeypress($event)\" (click)=\"onClick($event)\"\r\n        (change)=\"onChange($event)\" (focus)=\"onFocus($event)\" (input)=\"onInput($event)\" />\r\n    <button mat-button *ngIf=\"inputElm.value && !inputElm.readOnly && !inputElm.disabled\" matSuffix mat-icon-button\r\n      aria-label=\"Clear\" (mousedown)=\"clearValue()\" (keydown)=\"clickClearButton($event)\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n    <mat-datepicker-toggle matSuffix [for]=\"dp\" (mousedown)=\"dp.open(); $event.preventDefault(); $event.stopPropagation();\"></mat-datepicker-toggle>\r\n    <mat-datepicker #dp startView=\"multi-year\" (opened)=\"onOpened()\" (closed)=\"onClosed()\" (yearSelected)=\"chosenYearHandler($event)\"\r\n      (monthSelected)=\"chosenMonthHandler($event, dp)\" panelClass=\"example-month-picker\">\r\n    </mat-datepicker>\r\n  </div>\r\n</ng-template>\r\n\r\n<div *ngIf=\"isDisabled\" class=\"display-ctl-view\">\r\n  <div>\r\n    <div *ngIf=\"title\" class=\"display-ctl-view\">\r\n      <div class=\"display-result\" [ngStyle]=\"{'width.px': labelWidth}\" fxLayout=\"row wrap\" fxFlex>\r\n        <div fxFlex class=\"item-title\"><strong>{{title}}:</strong></div>\r\n      </div>\r\n      <div fxFlex class=\"valueOutput\">\r\n        {{stringValue}}\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"!title\" class=\"display-ctl-view notitle-value\">\r\n      <div fxFlex class=\"valueOutput\">\r\n        {{stringValue}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n",
                    providers: [
                        {
                            provide: DateAdapter,
                            useClass: MomentDateAdapter,
                            deps: [MAT_DATE_LOCALE, MAT_MOMENT_DATE_ADAPTER_OPTIONS]
                        },
                        {
                            provide: MAT_DATE_FORMATS,
                            useValue: ɵ0
                        }
                    ],
                    styles: [".isValidateError{background-color:#ffd2ff}.display-ctl-view{display:-webkit-box;display:flex}.display-result{margin-left:30px}.valueOutput{-webkit-box-flex:1;flex:1}.notitle-value{width:100%;margin-left:30px}input[type=month]::-webkit-calendar-picker-indicator{display:none}input[type=month]::-webkit-inner-spin-button,input[type=month]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=month]::-webkit-clear-button{display:none}", ".sh-flex{width:100%;display:-webkit-inline-box;display:inline-flex}.sh-flex-center{-webkit-box-align:center;align-items:center}.sh-flex-between{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.display-ctl-view{margin-top:20px}.overlay{position:fixed;display:-webkit-box;display:flex;top:0;left:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;height:100%;width:100%;color:gray;background-color:rgba(0,0,0,.5);z-index:9999}.loader-text{display:block;color:#f3f3f3;margin-top:1em}.mat-dialog-content{overflow:hidden;max-height:none}.sh-dialog-content{height:85%}.sh-kbn-dialog-table-container{height:92%;overflow-y:scroll;margin-top:18px;margin-bottom:18px}.sh-dialog-table-container{display:-webkit-box;display:flex;height:83%;overflow-y:scroll;margin-top:18px;margin-bottom:18px}.sh-text-center{text-align:center}.sh-width-100{width:100%}.sh-label{display:block}.custom-alert-message{top:-20px;position:relative;font-size:.75em;color:rgba(0,0,0,.54)}.result-input,.sh-label{color:rgba(0,0,0,.87)}::ng-deep .mat-form-field-label span{color:rgba(0,0,0,.87)}::ng-deep .result-container .mat-form-field-flex{background-color:#ccdcff}.sh-ctl-state-primary::ng-deep .mat-form-field-label{color:#3f51b5}.sh-ctl-state-primary::ng-deep .mat-form-field-underline{background-color:#3f51b5}.sh-ctl-state-primary-message{color:#3f51b5}.sh-ctl-state-secondary::ng-deep .mat-form-field-label{color:#ff4081}.sh-ctl-state-secondary::ng-deep .mat-form-field-underline{background-color:#ff4081}.sh-ctl-state-secondary-message{color:#ff4081}.sh-ctl-state-success::ng-deep .mat-form-field-label{color:#0dad17}.sh-ctl-state-success::ng-deep .mat-form-field-underline{background-color:#0dad17}.sh-ctl-state-success-message{color:#0dad17}.sh-ctl-state-danger::ng-deep .mat-form-field-label{color:#f44336}.sh-ctl-state-danger::ng-deep .mat-form-field-underline{background-color:#f44336}.sh-ctl-state-danger-message{color:#f44336}.sh-ctl-state-warning::ng-deep .mat-form-field-label{color:#e29f2b}.sh-ctl-state-warning::ng-deep .mat-form-field-underline{background-color:#e29f2b}.sh-ctl-state-warning-message{color:#e29f2b}.sh-container{position:relative;width:100%;height:100%}.only-field{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;width:100%;height:100%;min-height:28px}.only-field input,.only-field textarea{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.only-field-danger{background-color:#f44336}.only-field-warning{background-color:#e29f2b}.only-field-success{background-color:#0dad17}::ng-deep .only-field .material-icons{font-size:13px}::ng-deep .only-field .mat-button{position:relative;width:24px;height:24px}::ng-deep .only-field .mat-icon-button{position:relative;width:24px;height:24px}::ng-deep .only-field .mat-icon{position:absolute;top:0;left:0}::ng-deep .only-field .mat-datepicker-toggle-default-icon{position:absolute;top:25%;left:0;right:0;bottom:0;margin-left:auto;margin-right:auto}::ng-deep .mat-datepicker-toggle span svg{width:16px;height:16px}.only-label{background-color:#ccdcff;position:relative}.only-label mat-icon{position:absolute;top:25%;left:0;right:0;bottom:0;margin-left:auto;font-size:16px}.bind-flg__input{opacity:0;height:0;width:0;position:absolute;z-index:-100}"]
                }] }
    ];
    /** @nocollapse */
    SHCtlYearMonthComponent.ctorParameters = function () { return [
        { type: DateAdapter },
        { type: ElementRef }
    ]; };
    SHCtlYearMonthComponent.propDecorators = {
        max: [{ type: Input }],
        min: [{ type: Input }]
    };
    return SHCtlYearMonthComponent;
}(SHFormControl));
export { SHCtlYearMonthComponent };
if (false) {
    /** @type {?} */
    SHCtlYearMonthComponent.prototype.isValidateError;
    /** @type {?} */
    SHCtlYearMonthComponent.prototype.errorMessage;
    /** @type {?} */
    SHCtlYearMonthComponent.prototype.adjust;
    /** @type {?} */
    SHCtlYearMonthComponent.prototype.stringValue;
    /** @type {?} */
    SHCtlYearMonthComponent.prototype.cache;
    /** @type {?} */
    SHCtlYearMonthComponent.prototype.date;
    /** @type {?} */
    SHCtlYearMonthComponent.prototype.max;
    /** @type {?} */
    SHCtlYearMonthComponent.prototype.min;
    /**
     * @type {?}
     * @private
     */
    SHCtlYearMonthComponent.prototype.dataAdapter;
    /**
     * @type {?}
     * @private
     */
    SHCtlYearMonthComponent.prototype.el;
}
export { ɵ0 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2gtY3RsLXllYXItbW9udGguY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vc2gtZm9ybS1jb250cm9sLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvc2gtY3RsLXllYXItbW9udGgvc2gtY3RsLXllYXItbW9udGguY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUNMLFNBQVMsRUFFVCxLQUFLLEVBR0wsVUFBVSxFQUVYLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdDLE9BQU8sRUFDTCxpQkFBaUIsRUFDakIsK0JBQStCLEVBQ2hDLE1BQU0sa0NBQWtDLENBQUM7QUFDMUMsT0FBTyxFQUNMLFdBQVcsRUFDWCxnQkFBZ0IsRUFDaEIsZUFBZSxFQUVoQixNQUFNLHdCQUF3QixDQUFDO0FBRWhDLE9BQU8sS0FBSyxPQUFPLE1BQU0sUUFBUSxDQUFDOztJQUc1QixNQUFNLEdBQUcsT0FBTzs7QUFFdEIsTUFBTSxLQUFPLFVBQVUsR0FBRztJQUN4QixLQUFLLEVBQUU7UUFDTCxTQUFTLEVBQUUsU0FBUztLQUNyQjtJQUNELE9BQU8sRUFBRTtRQUNQLFNBQVMsRUFBRSxTQUFTO1FBQ3BCLGNBQWMsRUFBRSxVQUFVO1FBQzFCLGFBQWEsRUFBRSxJQUFJO1FBQ25CLGtCQUFrQixFQUFFLFdBQVc7S0FDaEM7Q0FDRjtTQW9CZTtJQUNSLEtBQUssRUFBRTtRQUNMLFNBQVMsRUFBRSxTQUFTO0tBQ3JCO0lBQ0QsT0FBTyxFQUFFO1FBQ1AsU0FBUyxFQUFFLFNBQVM7UUFDcEIsY0FBYyxFQUFFLFVBQVU7UUFDMUIsYUFBYSxFQUFFLElBQUk7UUFDbkIsa0JBQWtCLEVBQUUsV0FBVztLQUNo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LENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLGVBQWUsR0FBRyxHQUFHLEdBQUcsY0FBYyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQ3hFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztTQUN6QjthQUFNO1lBQ0wsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7WUFDdEIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO1NBQ3pCO0lBRUgsQ0FBQzs7Z0JBM1NGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsbUJBQW1CO29CQUM3Qixtc0hBQWlEO29CQUVqRCxTQUFTLEVBQUU7d0JBQ1Q7NEJBQ0UsT0FBTyxFQUFFLFdBQVc7NEJBQ3BCLFFBQVEsRUFBRSxpQkFBaUI7NEJBQzNCLElBQUksRUFBRSxDQUFDLGVBQWUsRUFBRSwrQkFBK0IsQ0FBQzt5QkFDekQ7d0JBRUQ7NEJBQ0UsT0FBTyxFQUFFLGdCQUFnQjs0QkFDekIsUUFBUSxJQVVQO3lCQUNGO3FCQUNGOztpQkFDRjs7OztnQkF0REMsV0FBVztnQkFYWCxVQUFVOzs7c0JBMEVULEtBQUs7c0JBQ0wsS0FBSzs7SUF3UVIsOEJBQUM7Q0FBQSxBQTVTRCxDQTJCNkMsYUFBYSxHQWlSekQ7U0FqUlksdUJBQXVCOzs7SUFFbEMsa0RBQXdDOztJQUN4QywrQ0FBNEM7O0lBQzVDLHlDQUFtQjs7SUFDbkIsOENBQXdCOztJQUN4Qix3Q0FBeUQ7O0lBQ3pELHVDQUF3Qzs7SUFDeEMsc0NBQWdDOztJQUNoQyxzQ0FBZ0M7Ozs7O0lBQ3BCLDhDQUFtRDs7Ozs7SUFDbkQscUNBQXNCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDb21wb25lbnQsXHJcbiAgT25Jbml0LFxyXG4gIElucHV0LFxyXG4gIE9uQ2hhbmdlcyxcclxuICBTaW1wbGVDaGFuZ2VzLFxyXG4gIEVsZW1lbnRSZWYsXHJcbiAgQWZ0ZXJWaWV3SW5pdFxyXG59IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XHJcbmltcG9ydCB7IFNIQ3RsQ29tbW9uIH0gZnJvbSBcIi4uL3NoLWN0bC1jb21tb25cIjtcclxuaW1wb3J0IHsgU0hGb3JtQ29udHJvbCB9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvU2hGb3JtQ29udHJvbFwiO1xyXG5pbXBvcnQgeyBGb3JtQ29udHJvbCB9IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xyXG5pbXBvcnQge1xyXG4gIE1vbWVudERhdGVBZGFwdGVyLFxyXG4gIE1BVF9NT01FTlRfREFURV9BREFQVEVSX09QVElPTlNcclxufSBmcm9tIFwiQGFuZ3VsYXIvbWF0ZXJpYWwtbW9tZW50LWFkYXB0ZXJcIjtcclxuaW1wb3J0IHtcclxuICBEYXRlQWRhcHRlcixcclxuICBNQVRfREFURV9GT1JNQVRTLFxyXG4gIE1BVF9EQVRFX0xPQ0FMRSxcclxuICBOYXRpdmVEYXRlQWRhcHRlclxyXG59IGZyb20gXCJAYW5ndWxhci9tYXRlcmlhbC9jb3JlXCI7XHJcbmltcG9ydCB7IE1hdERhdGVwaWNrZXIgfSBmcm9tIFwiQGFuZ3VsYXIvbWF0ZXJpYWwvZGF0ZXBpY2tlclwiO1xyXG5pbXBvcnQgKiBhcyBfbW9tZW50IGZyb20gXCJtb21lbnRcIjtcclxuaW1wb3J0IHsgTW9tZW50IH0gZnJvbSBcIm1vbWVudFwiO1xyXG5cclxuY29uc3QgbW9tZW50ID0gX21vbWVudDtcclxuXHJcbmV4cG9ydCBjb25zdCBNWV9GT1JNQVRTID0ge1xyXG4gIHBhcnNlOiB7XHJcbiAgICBkYXRlSW5wdXQ6IFwiTU0vWVlZWVwiXHJcbiAgfSxcclxuICBkaXNwbGF5OiB7XHJcbiAgICBkYXRlSW5wdXQ6IFwiTU0vWVlZWVwiLFxyXG4gICAgbW9udGhZZWFyTGFiZWw6IFwiTU1NIFlZWVlcIixcclxuICAgIGRhdGVBMTF5TGFiZWw6IFwiTExcIixcclxuICAgIG1vbnRoWWVhckExMXlMYWJlbDogXCJNTU1NIFlZWVlcIlxyXG4gIH1cclxufTtcclxuXHJcbnR5cGUgeWVhckFuZE1vbnRoID0ge1xyXG4gIHllYXI6IG51bWJlcjtcclxuICBtb250aDogbnVtYmVyO1xyXG59O1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6IFwic2gtY3RsLXllYXItbW9udGhcIixcclxuICB0ZW1wbGF0ZVVybDogXCIuL3NoLWN0bC15ZWFyLW1vbnRoLmNvbXBvbmVudC5odG1sXCIsXHJcbiAgc3R5bGVVcmxzOiBbXCIuL3NoLWN0bC15ZWFyLW1vbnRoLmNvbXBvbmVudC5jc3NcIiwgXCIuLi8uLi8uLi9zdHlsZS5jb21tb24uY3NzXCJdLFxyXG4gIHByb3ZpZGVyczogW1xyXG4gICAge1xyXG4gICAgICBwcm92aWRlOiBEYXRlQWRhcHRlcixcclxuICAgICAgdXNlQ2xhc3M6IE1vbWVudERhdGVBZGFwdGVyLFxyXG4gICAgICBkZXBzOiBbTUFUX0RBVEVfTE9DQUxFLCBNQVRfTU9NRU5UX0RBVEVfQURBUFRFUl9PUFRJT05TXVxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgIHByb3ZpZGU6IE1BVF9EQVRFX0ZPUk1BVFMsXHJcbiAgICAgIHVzZVZhbHVlOiB7XHJcbiAgICAgICAgcGFyc2U6IHtcclxuICAgICAgICAgIGRhdGVJbnB1dDogXCJZWVlZLU1NXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRpc3BsYXk6IHtcclxuICAgICAgICAgIGRhdGVJbnB1dDogXCJZWVlZLU1NXCIsXHJcbiAgICAgICAgICBtb250aFllYXJMYWJlbDogXCJNTU0gWVlZWVwiLFxyXG4gICAgICAgICAgZGF0ZUExMXlMYWJlbDogXCJMTFwiLFxyXG4gICAgICAgICAgbW9udGhZZWFyQTExeUxhYmVsOiBcIk1NTU0gWVlZWVwiXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgU0hDdGxZZWFyTW9udGhDb21wb25lbnQgZXh0ZW5kcyBTSEZvcm1Db250cm9sPHN0cmluZz5cclxuICBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBBZnRlclZpZXdJbml0IHtcclxuICBwdWJsaWMgaXNWYWxpZGF0ZUVycm9yOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHVibGljIGVycm9yTWVzc2FnZTogc3RyaW5nID0gXCLml6Xku5jjgavoqqTjgorjgYzjgYLjgorjgb7jgZnjgIJcIjtcclxuICBwdWJsaWMgYWRqdXN0OiBhbnk7XHJcbiAgcHVibGljIHN0cmluZ1ZhbHVlOiBhbnk7XHJcbiAgcHVibGljIGNhY2hlOiB5ZWFyQW5kTW9udGggPSB7IHllYXI6IG51bGwsIG1vbnRoOiBudWxsIH07XHJcbiAgcHVibGljIGRhdGUgPSBuZXcgRm9ybUNvbnRyb2wobW9tZW50KCkpO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBtYXggPSBcIjk5OTktMTJcIjtcclxuICBASW5wdXQoKSBwdWJsaWMgbWluID0gXCIxMDAwLTEyXCI7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBkYXRhQWRhcHRlcjogRGF0ZUFkYXB0ZXI8TmF0aXZlRGF0ZUFkYXB0ZXI+LFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsXHJcbiAgICAgICAgICAgICAgKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5jdGxOYW1lID0gXCJTSEN0bFllYXJNb250aFwiO1xyXG4gICAgZGF0YUFkYXB0ZXIuc2V0TG9jYWxlKFwiamFcIik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEYXRlUGlja2Vy44GueWVhcumBuOaKnuaZguOBruODj+ODs+ODieODqeODvFxyXG4gICAqIEBwYXJhbSBub3JtYWxpemVkWWVhciBcclxuICAgKi9cclxuICBjaG9zZW5ZZWFySGFuZGxlcihub3JtYWxpemVkWWVhcjogTW9tZW50KSB7XHJcbiAgICB0aGlzLmNhY2hlLnllYXIgPSBub3JtYWxpemVkWWVhci55ZWFyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEYXRlUGlja2Vy44GubW9udGjpgbjmip7mmYLjga7jg4/jg7Pjg4njg6njg7xcclxuICAgKiBAcGFyYW0gbm9ybWFsaXplZE1vbnRoIFxyXG4gICAqIEBwYXJhbSBkYXRlcGlja2VyIFxyXG4gICAqL1xyXG4gIGNob3Nlbk1vbnRoSGFuZGxlcihcclxuICAgIG5vcm1hbGl6ZWRNb250aDogTW9tZW50LFxyXG4gICAgZGF0ZXBpY2tlcjogTWF0RGF0ZXBpY2tlcjxNb21lbnQ+XHJcbiAgKSB7XHJcbiAgICB0aGlzLmNhY2hlLm1vbnRoID0gbm9ybWFsaXplZE1vbnRoLm1vbnRoKCkgKyAxO1xyXG4gICAgZGF0ZXBpY2tlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5zZXRWYWx1ZSgpO1xyXG4gICAgbGV0IGlucHV0VmFsdWUgPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGB0ZXh0YXJlYVtuYW1lPWAgKyB0aGlzLmN0bE5hbWUgKyBgXSwgaW5wdXRbbmFtZT1gICsgdGhpcy5jdGxOYW1lICsgYF1gKTtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpbnB1dFZhbHVlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7fSwxMCk7ICAgXHJcbiAgICB0aGlzLnZhbHVlQ2hhbmdlLmVtaXQodGhpcy50b1ZhbHVlKHRoaXMudmFsdWUpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERhdGVQaWNrZXLjgYvjgonlj5blvpfjgZfjgZ/lgKTjgpJ2YWx1ZeOBuOOCu+ODg+ODiOOBmeOCi1xyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXRWYWx1ZSgpIHtcclxuICAgIGNvbnN0IHllYXJBbmRNb250aCA9XHJcbiAgICAgIHRoaXMuY2FjaGUueWVhci50b1N0cmluZygpICsgdGhpcy5jYWNoZS5tb250aC50b1N0cmluZygpO1xyXG4gICAgdGhpcy52YWx1ZSA9IHRoaXMudG9UZXh0KHllYXJBbmRNb250aCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xyXG4gICAgaWYgKCFjaGFuZ2VzLnZhbHVlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghY2hhbmdlcy52YWx1ZS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgdGhpcy52YWx1ZSA9IFwiXCI7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChjaGFuZ2VzLnZhbHVlLmN1cnJlbnRWYWx1ZS5sZW5ndGggPj0gNykge1xyXG4gICAgICB0aGlzLnZhbHVlID0gXCJcIjtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGNoYW5nZXMudmFsdWUuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnRvVGV4dChjaGFuZ2VzLnZhbHVlLmN1cnJlbnRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0WWVhckFuZE1hbnRoKGRhdGU6IGFueSkge1xyXG4gICAgaWYgKCFkYXRlKSByZXR1cm47XHJcbiAgICBjb25zdCB2YWwgPSBuZXcgRGF0ZShkYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoKS5zcGxpdCgnLycpXHJcbiAgICBjb25zdCB5ZWFyID0gdmFsWzBdO1xyXG4gICAgY29uc3QgbW9udGggPSB2YWxbMV07XHJcbiAgICByZXR1cm4gYCR7eWVhcn0ke21vbnRofWA7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbmdBZnRlckNvbnRlbnRDaGVja2VkKCkge1xyXG4gICAgaWYgKHRoaXMudmFsdWUgIT0gbnVsbCAmJiB0aGlzLmlzRGlzYWJsZWQpIHtcclxuICAgICAgdGhpcy5jaGFuZ2VGb3JtYXQodGhpcy52YWx1ZS5yZXBsYWNlKFwiLVwiLCBcIlwiKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLm9uSW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgIHN1cGVyLm5nQWZ0ZXJWaWV3SW5pdCgpO1xyXG4gICAgaWYoIXRoaXMuaXNEaXNhYmxlZCkge1xyXG4gICAgICBsZXQgZWxlbWVudCA9IDxIVE1MRWxlbWVudD50aGlzLmVsLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcclxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtYXhcIiwgdGhpcy5tYXgpO1xyXG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcIm1pblwiLCB0aGlzLm1pbik7ICBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIG9uT3BlbmVkXHJcbiAgICovXHJcbiAgcHVibGljIG9uT3BlbmVkKCkge1xyXG4gICAgbGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1hdC1kYXRlcGlja2VyLWNvbnRlbnRcIik7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuaXNmb2N1c2VkID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb25DbG9zZWRcclxuICAgKi9cclxuICBwdWJsaWMgb25DbG9zZWQoKSB7XHJcbiAgICBsZXQgaW5wdXRWYWx1ZSA9IDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHRleHRhcmVhW25hbWU9YCArIHRoaXMuY3RsTmFtZSArIGBdLCBpbnB1dFtuYW1lPWAgKyB0aGlzLmN0bE5hbWUgKyBgXWApO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe2lucHV0VmFsdWUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2ZvY3VzJykpO30sMCk7ICBcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIG9uSW5wdXRcclxuICAgKiBAcGFyYW0gZXZlbnQgaW5wdXRcclxuICAgKi9cclxuICBwdWJsaWMgb25JbnB1dChldmVudCkge1xyXG4gICAgdGhpcy55ZWFyQW5kTW9udGhDYWxjdWxhdGlvbihldmVudCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBvbktleXByZXNzXHJcbiAgICogQHBhcmFtIGV2ZW50IGtleXByZXNzXHJcbiAgICovXHJcbiAgcHVibGljIG9uS2V5cHJlc3MoZXZlbnQpIHtcclxuICAgIHRoaXMueWVhckFuZE1vbnRoQ2FsY3VsYXRpb24oZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb25DbGlja1xyXG4gICAqIEBwYXJhbSBldmVudCBjbGlja1xyXG4gICAqL1xyXG4gIHB1YmxpYyBvbkNsaWNrKGV2ZW50KSB7XHJcbiAgICB0aGlzLm9uQmVmb3JlQ2xpY2soZXZlbnQpO1xyXG5cclxuICAgIHRoaXMub25BZnRlckNsaWNrKGV2ZW50KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIG9uQ2hhbmdlXHJcbiAgICogQHBhcmFtIGV2ZW50IGNoYW5nZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvbkNoYW5nZShldmVudCkge1xyXG4gICAgdGhpcy5vbkJlZm9yZUNoYW5nZShldmVudCk7XHJcblxyXG4gICAgdGhpcy52YWx1ZUNoYW5nZS5lbWl0KHRoaXMudG9WYWx1ZShldmVudC50YXJnZXQudmFsdWUpKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHt0aGlzLm9uQWZ0ZXJDaGFuZ2UoZXZlbnQpfSwgMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBvbkZvY3VzXHJcbiAgICogQHBhcmFtIGV2ZW50IGZvY3VzXHJcbiAgICovXHJcbiAgcHVibGljIG9uRm9jdXMoZXZlbnQpIHtcclxuICAgIHRoaXMub25CZWZvcmVGb2N1cyhldmVudCk7XHJcblxyXG4gICAgdGhpcy52YWx1ZSA9IHRoaXMudG9UZXh0KGV2ZW50LnRhcmdldC52YWx1ZSk7XHJcbiAgICBldmVudC50YXJnZXQuc2VsZWN0KCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7dGhpcy5vbkFmdGVyRm9jdXMoZXZlbnQpfSwgMCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIG9uQmx1clxyXG4gICAqIEBwYXJhbSBldmVudCBibHVyXHJcbiAgICovXHJcbiAgcHVibGljIG9uQmx1cihldmVudCkge1xyXG4gICAgdGhpcy5vbkJlZm9yZUJsdXIoZXZlbnQpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge3RoaXMub25BZnRlckJsdXIoZXZlbnQpO30sIDApOztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOW5tOaciOioiOeul1xyXG4gICAqIEBwYXJhbSBldmVudCBcclxuICAgKi9cclxuICBwcml2YXRlIHllYXJBbmRNb250aENhbGN1bGF0aW9uKGV2ZW50KSB7XHJcbiAgICBsZXQga2V5ID0gdGhpcy5pc0tleXNBbGxvd2VkVG9NZShldmVudCk7XHJcbiAgICBpZiAoa2V5ID09PSAwKSB7XHJcbiAgICAgIHRoaXMuc2V0Q3VycmVudERhdGUoZXZlbnQpO1xyXG4gICAgICB0aGlzLm9uQ2hhbmdlKGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiHquOCv+OCpOODl+OBq+ioseWuueOBleOCjOOBpuOBhOOCi+OCreODvFxyXG4gICAqIEBwYXJhbSBldmVudCBrZXlwcmVzc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgaXNLZXlzQWxsb3dlZFRvTWUoZXZlbnQ6IGFueSkge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gU0hDdGxDb21tb24uQ29uc3Qua2V5Q29kZXMuc2lnbnNbMTkxXSkge1xyXG4gICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pys5pel5pel5LuY44Gu6Kit5a6aXHJcbiAgICogQHBhcmFtIGV2ZW50IGtleXByZXNzXHJcbiAgICovXHJcbiAgcHVibGljIHNldEN1cnJlbnREYXRlKGV2ZW50KSB7XHJcbiAgICBsZXQgbmV3RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICBsZXQgbnVsbEZpcnN0U3RyaW5nID0gbnVsbDtcclxuICAgIGxldCBudWxsTGFzdFN0cmluZyA9IG51bGw7XHJcbiAgICBudWxsRmlyc3RTdHJpbmcgPSBTSEN0bENvbW1vbi5wYWRkaW5nKG5ld0RhdGUuZ2V0RnVsbFllYXIoKSwgNCk7IC8vIFlZWVlcclxuICAgIG51bGxMYXN0U3RyaW5nID0gU0hDdGxDb21tb24ucGFkZGluZyhuZXdEYXRlLmdldE1vbnRoKCkgKyAxLCAyKTsgLy8gTU1cclxuICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IFN0cmluZyhudWxsRmlyc3RTdHJpbmcgKyBcIi1cIiArIG51bGxMYXN0U3RyaW5nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaOpemgreiqnuS7mOS4jlxyXG4gICAqIEBwYXJhbSBpbnB1dFRhcmdldFZhbHVlIG51bS5zdWJzdHIoMCwgMilcclxuICAgKi9cclxuICBwdWJsaWMgY29udlllYXIoaW5wdXRUYXJnZXRWYWx1ZSkge1xyXG4gICAgaWYgKGlucHV0VGFyZ2V0VmFsdWUgPj0gXCIwMFwiICYmIGlucHV0VGFyZ2V0VmFsdWUgPD0gNDkpIHtcclxuICAgICAgcmV0dXJuIFwiMjBcIiArIGlucHV0VGFyZ2V0VmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gXCIxOVwiICsgaW5wdXRUYXJnZXRWYWx1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFlZWVkvTU3lh6bnkIZcclxuICAgKiBAcGFyYW0gaW5wdXRUYXJnZXRWYWx1ZSBldmVudC50YXJnZXQudmFsdWVcclxuICAgKi9cclxuICBwdWJsaWMgdG9UZXh0KGlucHV0VGFyZ2V0VmFsdWUpIHtcclxuICAgIGxldCBudW0gPSBpbnB1dFRhcmdldFZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZSgvXFwvL2csIFwiXCIpO1xyXG4gICAgaWYgKG51bS50cmltKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG4gICAgLy8gNOahgeilv+aaplxyXG4gICAgaWYgKG51bS5sZW5ndGggPT09IDMgfHwgbnVtLmxlbmd0aCA9PT0gNCkge1xyXG4gICAgICAvLyAvLyDmjqXpoK3oqp7lj5blvpdcclxuICAgICAgcmV0dXJuIFNIQ3RsQ29tbW9uLnBhZGRpbmcobnVtLCA0KSArIFwiLTAxXCI7XHJcbiAgICB9IGVsc2UgaWYgKG51bS5sZW5ndGggPT09IDUgfHwgbnVtLmxlbmd0aCA9PT0gNikge1xyXG4gICAgICAvLyDmjqXpoK3oqp7lj5blvpdcclxuICAgICAgbGV0IHllYXIgPSBudW0uc3Vic3RyKDAsIDQpICsgXCItXCIgKyAoXCIwMFwiICsgbnVtLnN1YnN0cig0KSkuc2xpY2UoLTIpO1xyXG4gICAgICByZXR1cm4geWVhcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBpbnB1dFRhcmdldFZhbHVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5o6l57aa5paH5a2X6Zmk5Y67XHJcbiAgICogQHBhcmFtIGlucHV0VGFyZ2V0VmFsdWUgZXZlbnQudGFyZ2V0LnZhbHVlXHJcbiAgICovXHJcbiAgcHVibGljIHRvVmFsdWUoaW5wdXRUYXJnZXRWYWx1ZSkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHJpbmcoaW5wdXRUYXJnZXRWYWx1ZSkucmVwbGFjZShcIi1cIiwgXCJcIik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjg5Xjgqnjg7zjg57jg4Pjg4jnt6jpm4ZcclxuICAgKiBAcGFyYW0gdmFsdWUgdGhpcy52YWx1ZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBjaGFuZ2VGb3JtYXQodmFsdWUpIHtcclxuXHJcbiAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPSB1bmRlZmluZWQgJiYgdmFsdWUubGVuZ3RoID09PSA2KSB7XHJcbiAgICAgIGxldCBudWxsRmlyc3RTdHJpbmcgPSBudWxsO1xyXG4gICAgICBsZXQgbnVsbExhc3RTdHJpbmcgPSBudWxsO1xyXG4gICAgICBudWxsRmlyc3RTdHJpbmcgPSB2YWx1ZS5zbGljZSgwLCA0KTtcclxuICAgICAgbnVsbExhc3RTdHJpbmcgPSB2YWx1ZS5zbGljZSg0LCA2KTtcclxuICAgICAgdGhpcy5zdHJpbmdWYWx1ZSA9IFN0cmluZyhudWxsRmlyc3RTdHJpbmcgKyBcIuW5tFwiICsgbnVsbExhc3RTdHJpbmcgKyBcIuaciFwiKTtcclxuICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nVmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0cmluZ1ZhbHVlID0gJyc7XHJcbiAgICAgIHJldHVybiB0aGlzLnN0cmluZ1ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbn0iXX0=