/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, Input } from '@angular/core';
import { SHFormControl } from '../../utilities/ShFormControl';
var SHCtlCheckComponent = /** @class */ (function (_super) {
    tslib_1.__extends(SHCtlCheckComponent, _super);
    function SHCtlCheckComponent() {
        var _this = _super.call(this) || this;
        //ラベル名
        _this.checkedLabel = "";
        //ラベル位置(チェックボックスの前か)
        _this.beforeAlign = false;
        //チェックボックスのチェック時の値
        _this.checkedValue = "1";
        //チェックボックスの未チェック時の値
        _this.uncheckedValue = "0";
        _this.ctlName = "SHCtlCheck";
        return _this;
    }
    /**
     * @return {?}
     */
    SHCtlCheckComponent.prototype.setLabelPosition = /**
     * @return {?}
     */
    function () {
        return this.beforeAlign ? 'before' : 'after';
    };
    /**
     * @return {?}
     */
    SHCtlCheckComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.onInit();
    };
    /**
     * ngOnChangesイベント
     */
    /**
     * ngOnChangesイベント
     * @param {?} changes
     * @return {?}
     */
    SHCtlCheckComponent.prototype.ngOnChanges = /**
     * ngOnChangesイベント
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if (changes.value) {
            if (changes.value.currentValue) {
                if (changes.value.currentValue === '' || changes.value.currentValue === undefined || changes.value.currentValue === String(/[^\x01-\x7E\xA1-\xDF]+$/g)) {
                    this.value = '';
                    return;
                }
                this.value = changes.value.currentValue == this.checkedValue ? "checked" : "";
            }
        }
    };
    /**
     * onClick
     * @param event click
     */
    /**
     * onClick
     * @param {?} event click
     * @return {?}
     */
    SHCtlCheckComponent.prototype.onClick = /**
     * onClick
     * @param {?} event click
     * @return {?}
     */
    function (event) {
        this.onBeforeClick(event);
        this.onAfterClick(event);
    };
    /**
     * onChange
     * @param event change
     */
    /**
     * onChange
     * @param {?} event change
     * @return {?}
     */
    SHCtlCheckComponent.prototype.onChange = /**
     * onChange
     * @param {?} event change
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.onBeforeChange(event);
        this.valueChange.emit(event.checked ? this.checkedValue : this.uncheckedValue);
        setTimeout((/**
         * @return {?}
         */
        function () { _this.onAfterChange(event); }), 0);
    };
    /**
     * onFocus
     * @param event focus
     */
    /**
     * onFocus
     * @param {?} event focus
     * @return {?}
     */
    SHCtlCheckComponent.prototype.onFocus = /**
     * onFocus
     * @param {?} event focus
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.onBeforeFocus(event);
        event.target.select();
        setTimeout((/**
         * @return {?}
         */
        function () { _this.onAfterFocus(event); }), 0);
    };
    /**
     * onBlur
     * @param event blur
     */
    /**
     * onBlur
     * @param {?} event blur
     * @return {?}
     */
    SHCtlCheckComponent.prototype.onBlur = /**
     * onBlur
     * @param {?} event blur
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.onBeforeBlur(event);
        setTimeout((/**
         * @return {?}
         */
        function () { _this.onAfterBlur(event); }), 0);
        ;
    };
    SHCtlCheckComponent.decorators = [
        { type: Component, args: [{
                    selector: 'sh-ctl-check',
                    template: "<ng-container *ngIf=\"!onlyField; else onlyFieldControl\">\r\n  <div *ngIf=\"!isDisabled\" style=\"height: 52.5px;\">\r\n    <div style=\"height: 52.5px;\">\r\n      <label class=\"sh-label\">{{title}}</label>\r\n      <mat-checkbox class=\"can-moved-with-the-enter-key {{strClass}}\" [(ngModel)]=\"value\" \r\n        [labelPosition]=\"setLabelPosition()\" attr.name=\"{{ctlName}}\" [disabled]=\"disabled\"\r\n        (click)=\"onClick($event)\" (change)=\"onChange($event)\" (focusin)=\"onFocus($event)\" (focusout)=\"onBlur($event)\"\r\n        [ngStyle]=\"styles\" [ngClass]=\"objClass\">{{checkedLabel}}\r\n      </mat-checkbox>\r\n    </div>\r\n    <span class=\"custom-alert-message\" style=\"top:0px\">{{message.toString().split(',').join(' ')}}</span>\r\n  </div>\r\n</ng-container>\r\n\r\n<ng-template #onlyFieldControl>\r\n  <div class=\"only-field\">\r\n    <div>\r\n      <mat-checkbox class=\"can-moved-with-the-enter-key {{strClass}}\" [(ngModel)]=\"value\" \r\n        [labelPosition]=\"setLabelPosition()\" attr.name=\"{{ctlName}}\" [disabled]=\"disabled\"\r\n        (click)=\"onClick($event)\" (change)=\"onChange($event)\" (focusin)=\"onFocus($event)\" (focusout)=\"onBlur($event)\"\r\n        [ngStyle]=\"styles\" [ngClass]=\"objClass\">{{checkedLabel}}\r\n      </mat-checkbox>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n\r\n<div *ngIf=\"isDisabled\" class=\"display-ctl-view\">\r\n  <div>\r\n    <div *ngIf=\"title\" class=\"display-ctl-view\">\r\n      <div class=\"display-result\" [ngStyle]=\"{'width.px': labelWidth}\" fxLayout=\"row wrap\" fxFlex>\r\n        <div fxFlex class=\"item-title\"><strong>{{title}}:</strong></div>\r\n      </div>\r\n      <div fxFlex class=\"valueOutput\">\r\n        <mat-checkbox class=\"can-moved-with-the-enter-key {{strClass}}\" [(ngModel)]=\"value\" \r\n        [labelPosition]=\"setLabelPosition()\" \r\n        [ngStyle]=\"styles\" [ngClass]=\"objClass\" [disabled]=\"'true'\">{{checkedLabel}}\r\n        </mat-checkbox>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"!title\" class=\"display-ctl-view notitle-value\">\r\n      <div fxFlex class=\"valueOutput\">\r\n        <mat-checkbox class=\"can-moved-with-the-enter-key {{strClass}}\" [(ngModel)]=\"value\" \r\n        [labelPosition]=\"setLabelPosition()\" \r\n        [ngStyle]=\"styles\" [ngClass]=\"objClass\" [disabled]=\"'true'\">{{checkedLabel}}\r\n        </mat-checkbox>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n",
                    styles: ["mat-card-actions,mat-card-content,mat-card-title{text-align:center}mat-card-content{padding-top:20px;padding-bottom:20px}.advanced-color{color:#3f51b5}.beginner-color{color:#f44336}.display-ctl-view{display:-webkit-box;display:flex}.display-result{margin-left:30px}.valueOutput{-webkit-box-flex:1;flex:1}.validation-error::ng-deep .mat-form-field-label{color:red}.validation-error::ng-deep .mat-form-field-underline{background-color:red}.notitle-value{width:100%;margin-left:30px}.sh-label{display:block;color:#0000008a;font-size:.75rem;min-height:18px}", ".sh-flex{width:100%;display:-webkit-inline-box;display:inline-flex}.sh-flex-center{-webkit-box-align:center;align-items:center}.sh-flex-between{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.display-ctl-view{margin-top:20px}.overlay{position:fixed;display:-webkit-box;display:flex;top:0;left:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;height:100%;width:100%;color:gray;background-color:rgba(0,0,0,.5);z-index:9999}.loader-text{display:block;color:#f3f3f3;margin-top:1em}.mat-dialog-content{overflow:hidden;max-height:none}.sh-dialog-content{height:85%}.sh-kbn-dialog-table-container{height:92%;overflow-y:scroll;margin-top:18px;margin-bottom:18px}.sh-dialog-table-container{display:-webkit-box;display:flex;height:83%;overflow-y:scroll;margin-top:18px;margin-bottom:18px}.sh-text-center{text-align:center}.sh-width-100{width:100%}.sh-label{display:block}.custom-alert-message{top:-20px;position:relative;font-size:.75em;color:rgba(0,0,0,.54)}.result-input,.sh-label{color:rgba(0,0,0,.87)}::ng-deep .mat-form-field-label span{color:rgba(0,0,0,.87)}::ng-deep .result-container .mat-form-field-flex{background-color:#ccdcff}.sh-ctl-state-primary::ng-deep .mat-form-field-label{color:#3f51b5}.sh-ctl-state-primary::ng-deep .mat-form-field-underline{background-color:#3f51b5}.sh-ctl-state-primary-message{color:#3f51b5}.sh-ctl-state-secondary::ng-deep .mat-form-field-label{color:#ff4081}.sh-ctl-state-secondary::ng-deep .mat-form-field-underline{background-color:#ff4081}.sh-ctl-state-secondary-message{color:#ff4081}.sh-ctl-state-success::ng-deep .mat-form-field-label{color:#0dad17}.sh-ctl-state-success::ng-deep .mat-form-field-underline{background-color:#0dad17}.sh-ctl-state-success-message{color:#0dad17}.sh-ctl-state-danger::ng-deep .mat-form-field-label{color:#f44336}.sh-ctl-state-danger::ng-deep .mat-form-field-underline{background-color:#f44336}.sh-ctl-state-danger-message{color:#f44336}.sh-ctl-state-warning::ng-deep .mat-form-field-label{color:#e29f2b}.sh-ctl-state-warning::ng-deep .mat-form-field-underline{background-color:#e29f2b}.sh-ctl-state-warning-message{color:#e29f2b}.sh-container{position:relative;width:100%;height:100%}.only-field{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;width:100%;height:100%;min-height:28px}.only-field input,.only-field textarea{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.only-field-danger{background-color:#f44336}.only-field-warning{background-color:#e29f2b}.only-field-success{background-color:#0dad17}::ng-deep .only-field .material-icons{font-size:13px}::ng-deep .only-field .mat-button{position:relative;width:24px;height:24px}::ng-deep .only-field .mat-icon-button{position:relative;width:24px;height:24px}::ng-deep .only-field .mat-icon{position:absolute;top:0;left:0}::ng-deep .only-field .mat-datepicker-toggle-default-icon{position:absolute;top:25%;left:0;right:0;bottom:0;margin-left:auto;margin-right:auto}::ng-deep .mat-datepicker-toggle span svg{width:16px;height:16px}.only-label{background-color:#ccdcff;position:relative}.only-label mat-icon{position:absolute;top:25%;left:0;right:0;bottom:0;margin-left:auto;font-size:16px}.bind-flg__input{opacity:0;height:0;width:0;position:absolute;z-index:-100}"]
                }] }
    ];
    /** @nocollapse */
    SHCtlCheckComponent.ctorParameters = function () { return []; };
    SHCtlCheckComponent.propDecorators = {
        checkedLabel: [{ type: Input }],
        beforeAlign: [{ type: Input }],
        checkedValue: [{ type: Input }],
        uncheckedValue: [{ type: Input }]
    };
    return SHCtlCheckComponent;
}(SHFormControl));
export { SHCtlCheckComponent };
if (false) {
    /** @type {?} */
    SHCtlCheckComponent.prototype.checkedLabel;
    /** @type {?} */
    SHCtlCheckComponent.prototype.beforeAlign;
    /** @type {?} */
    SHCtlCheckComponent.prototype.checkedValue;
    /** @type {?} */
    SHCtlCheckComponent.prototype.uncheckedValue;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2gtY3RsLWNoZWNrLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3NoLWZvcm0tY29udHJvbC8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3NoLWN0bC1jaGVjay9zaC1jdGwtY2hlY2suY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQTRCLE1BQU0sZUFBZSxDQUFDO0FBQ25GLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQTtBQUU3RDtJQU15QywrQ0FBcUI7SUFXNUQ7UUFBQSxZQUNFLGlCQUFPLFNBRVI7O1FBWGUsa0JBQVksR0FBVyxFQUFFLENBQUM7O1FBRTFCLGlCQUFXLEdBQVksS0FBSyxDQUFDOztRQUU3QixrQkFBWSxHQUFXLEdBQUcsQ0FBQzs7UUFFM0Isb0JBQWMsR0FBVyxHQUFHLENBQUM7UUFJM0MsS0FBSSxDQUFDLE9BQU8sR0FBRyxZQUFZLENBQUM7O0lBQzlCLENBQUM7Ozs7SUFFTSw4Q0FBZ0I7OztJQUF2QjtRQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7SUFDL0MsQ0FBQzs7OztJQUVELHNDQUFROzs7SUFBUjtRQUNFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRUQ7O09BRUc7Ozs7OztJQUNJLHlDQUFXOzs7OztJQUFsQixVQUFtQixPQUFzQjtRQUN2QyxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUU7WUFDakIsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRTtnQkFDOUIsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLFlBQVksS0FBSyxFQUFFLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxZQUFZLEtBQUssU0FBUyxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsWUFBWSxLQUFLLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQyxFQUFFO29CQUN0SixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztvQkFDaEIsT0FBTztpQkFDUjtnQkFDRCxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2FBQy9FO1NBQ0Y7SUFDSCxDQUFDO0lBRUQ7OztPQUdHOzs7Ozs7SUFDSSxxQ0FBTzs7Ozs7SUFBZCxVQUFlLEtBQUs7UUFDbEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUUxQixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRDs7O09BR0c7Ozs7OztJQUNJLHNDQUFROzs7OztJQUFmLFVBQWdCLEtBQUs7UUFBckIsaUJBTUM7UUFMQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRTNCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUVoRixVQUFVOzs7UUFBQyxjQUFPLEtBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUEsQ0FBQSxDQUFDLEdBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVEOzs7T0FHRzs7Ozs7O0lBQ0kscUNBQU87Ozs7O0lBQWQsVUFBZSxLQUFLO1FBQXBCLGlCQU1DO1FBTEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUUxQixLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBRXRCLFVBQVU7OztRQUFDLGNBQU8sS0FBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQSxDQUFBLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQ7OztPQUdHOzs7Ozs7SUFDSSxvQ0FBTTs7Ozs7SUFBYixVQUFjLEtBQUs7UUFBbkIsaUJBSUM7UUFIQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXpCLFVBQVU7OztRQUFDLGNBQU8sS0FBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQztRQUFBLENBQUM7SUFDbkQsQ0FBQzs7Z0JBdkZGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsY0FBYztvQkFDeEIsMDZFQUE0Qzs7aUJBRTdDOzs7OzsrQkFLRSxLQUFLOzhCQUVMLEtBQUs7K0JBRUwsS0FBSztpQ0FFTCxLQUFLOztJQTBFUiwwQkFBQztDQUFBLEFBekZELENBTXlDLGFBQWEsR0FtRnJEO1NBbkZZLG1CQUFtQjs7O0lBRzlCLDJDQUEwQzs7SUFFMUMsMENBQTZDOztJQUU3QywyQ0FBMkM7O0lBRTNDLDZDQUE2QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT25DaGFuZ2VzLCBTaW1wbGVDaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFNIRm9ybUNvbnRyb2wgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvU2hGb3JtQ29udHJvbCdcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnc2gtY3RsLWNoZWNrJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vc2gtY3RsLWNoZWNrLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9zaC1jdGwtY2hlY2suY29tcG9uZW50LmNzcycsICcuLi8uLi8uLi9zdHlsZS5jb21tb24uY3NzJ11cclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBTSEN0bENoZWNrQ29tcG9uZW50IGV4dGVuZHMgU0hGb3JtQ29udHJvbDxzdHJpbmc+IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xyXG5cclxuICAvL+ODqeODmeODq+WQjVxyXG4gIEBJbnB1dCgpIHB1YmxpYyBjaGVja2VkTGFiZWw6IHN0cmluZyA9IFwiXCI7ICBcclxuICAvL+ODqeODmeODq+S9jee9rijjg4Hjgqfjg4Pjgq/jg5zjg4Pjgq/jgrnjga7liY3jgYspXHJcbiAgQElucHV0KCkgcHVibGljIGJlZm9yZUFsaWduOiBib29sZWFuID0gZmFsc2U7XHJcbiAgLy/jg4Hjgqfjg4Pjgq/jg5zjg4Pjgq/jgrnjga7jg4Hjgqfjg4Pjgq/mmYLjga7lgKRcclxuICBASW5wdXQoKSBwdWJsaWMgY2hlY2tlZFZhbHVlOiBzdHJpbmcgPSBcIjFcIjtcclxuICAvL+ODgeOCp+ODg+OCr+ODnOODg+OCr+OCueOBruacquODgeOCp+ODg+OCr+aZguOBruWApFxyXG4gIEBJbnB1dCgpIHB1YmxpYyB1bmNoZWNrZWRWYWx1ZTogc3RyaW5nID0gXCIwXCI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCAgKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5jdGxOYW1lID0gXCJTSEN0bENoZWNrXCI7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0TGFiZWxQb3NpdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLmJlZm9yZUFsaWduID8gJ2JlZm9yZScgOiAnYWZ0ZXInO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLm9uSW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogbmdPbkNoYW5nZXPjgqTjg5njg7Pjg4hcclxuICAgKi9cclxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xyXG4gICAgaWYgKGNoYW5nZXMudmFsdWUpIHtcclxuICAgICAgaWYgKGNoYW5nZXMudmFsdWUuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGNoYW5nZXMudmFsdWUuY3VycmVudFZhbHVlID09PSAnJyB8fCBjaGFuZ2VzLnZhbHVlLmN1cnJlbnRWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGNoYW5nZXMudmFsdWUuY3VycmVudFZhbHVlID09PSBTdHJpbmcoL1teXFx4MDEtXFx4N0VcXHhBMS1cXHhERl0rJC9nKSkge1xyXG4gICAgICAgICAgdGhpcy52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZhbHVlID0gY2hhbmdlcy52YWx1ZS5jdXJyZW50VmFsdWUgPT0gdGhpcy5jaGVja2VkVmFsdWUgPyBcImNoZWNrZWRcIiA6IFwiXCI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIG9uQ2xpY2tcclxuICAgKiBAcGFyYW0gZXZlbnQgY2xpY2tcclxuICAgKi9cclxuICBwdWJsaWMgb25DbGljayhldmVudCkge1xyXG4gICAgdGhpcy5vbkJlZm9yZUNsaWNrKGV2ZW50KTtcclxuXHJcbiAgICB0aGlzLm9uQWZ0ZXJDbGljayhldmVudCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBvbkNoYW5nZVxyXG4gICAqIEBwYXJhbSBldmVudCBjaGFuZ2VcclxuICAgKi9cclxuICBwdWJsaWMgb25DaGFuZ2UoZXZlbnQpIHtcclxuICAgIHRoaXMub25CZWZvcmVDaGFuZ2UoZXZlbnQpO1xyXG5cclxuICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdChldmVudC5jaGVja2VkID8gdGhpcy5jaGVja2VkVmFsdWUgOiAgdGhpcy51bmNoZWNrZWRWYWx1ZSk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7dGhpcy5vbkFmdGVyQ2hhbmdlKGV2ZW50KX0sIDApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb25Gb2N1c1xyXG4gICAqIEBwYXJhbSBldmVudCBmb2N1c1xyXG4gICAqL1xyXG4gIHB1YmxpYyBvbkZvY3VzKGV2ZW50KSB7XHJcbiAgICB0aGlzLm9uQmVmb3JlRm9jdXMoZXZlbnQpO1xyXG5cclxuICAgIGV2ZW50LnRhcmdldC5zZWxlY3QoKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHt0aGlzLm9uQWZ0ZXJGb2N1cyhldmVudCl9LCAwKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIG9uQmx1clxyXG4gICAqIEBwYXJhbSBldmVudCBibHVyXHJcbiAgICovXHJcbiAgcHVibGljIG9uQmx1cihldmVudCkge1xyXG4gICAgdGhpcy5vbkJlZm9yZUJsdXIoZXZlbnQpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge3RoaXMub25BZnRlckJsdXIoZXZlbnQpO30sIDApOztcclxuICB9XHJcblxyXG59XHJcbiJdfQ==